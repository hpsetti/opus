import{m as b}from"./marketPlaceTools-GTlmHJkh.js";import{g as w,_ as y,d as f,o as r,c as l,a as e,b as p,k as n,F as k,m as S,t as c,r as u,p as T,f as D,l as L}from"./index-BlMJxPGQ.js";import{O as I}from"./OpusSelect-BRceMwA4.js";import{L as v}from"./Loader-DR0R9oEF.js";import{c as P}from"./marketPlaceResources-hux66PHi.js";import{g as C}from"./designRecommendationLibrary-Bji3wddo.js";import{p as V}from"./marketo-zx_g1DXt.js";import{_ as N}from"./tool_available-BYBTocPu.js";import"./cloneDeep-ldw2ZiUo.js";import"./_baseAssignValue-BD6sbZ4C.js";import"./AddRemoveCartPopup-CqkASo7c.js";import"./event-bus-DYoA24Gz.js";import"./DocumentsMoreInfo-CaOFYwEb.js";import"./moment-Cl4UOzQZ.js";import"./constants-DZfa7LnM.js";import"./cart-QHhiBhPv.js";import"./trash-D7-advNl.js";import"./goto_arrow-zLb6UYwr.js";import"./documentsMixin-Bh1uCigM.js";import"./documents-CP6oEKge.js";import"./OpusCheckbox-DmKgoiup.js";import"./chevron_down_new-ByXOiGKT.js";async function g(){let s;return await w.get("/static/json/opus-tools.json").then(o=>{o.status===200&&o.data&&(s=o.data)}).catch(o=>{console.log("Opus tools Error",o)}),s}const F={props:{loader:{type:Boolean},userId:{type:Number,required:!0}},data(){return{loaderStatus:!1,windowWidth:window.innerWidth,toolsData:{},cartInfo:{},documentInfo:{},selectedCartItem:{},activeTabName:{available:{id:0,name:"View all",no_of_documents:0,sequence:0}},trainingsData:{available:[{id:0,name:"View all",no_of_documents:0,sequence:0}]},filteredList:[],availableTabs:{},toolsList:{},isPurchased:{},anyPurchasedTool:{},availableTabCount:{all:0},showKPA:!0,kpaTool:[{id:"9",link:"known-problem-analysis",title:"Known Problem Analysis",enrolled:!0,description:"Known Problem Analysis."}]}},components:{Loader:v,OpusSelect:I},async created(){await Promise.all([this.getStaticTools(),this.getList()])},methods:{redirect(s){const o={email:JSON.parse(localStorage.getItem("userData")).email,Last_Interest:"Human Factors Research & Design",page_urlextended:window.location.href,page_urlreferral_extended:document.referrer,form_control:"Tools",form_control_details:`Visit - ${s}`};V(o),this.$router.push({path:`/tools/${s}`})},formatPurchaseDate(s){if(s){console.log(s);const o=[s[0],s[1]-1,s[2]];return console.log(o),console.log(f(o).format("D MMMM YYYY")),f(o).format("D MMMM YYYY")}return""},async getStaticTools(){const[s,o]=await Promise.all([C(+this.userId),g()]),i=[...s,...o];console.log("ENV","production"),this.toolsList=i,this.anyPurchasedTool=i.filter(_=>_.purchase_date),this.setCountForTabs()},async getList(){this.loaderStatus=!0,this.toolsData=await P(1,this.userId),this.loaderStatus=!1},setCountForTabs(){const s=this.toolsList.length||0;this.availableTabCount={all:s}},navigateToMarketplace(){this.$router.push("/market-place")},customLabel(s){return`${s.name} (${this.availableTabCount.all})`}}},m=s=>(T("data-v-e894d61f"),s=s(),D(),s),M={class:"col-xs-12 p-0"},j={class:"opus-tools-header d-flex justify-content-between align-items-center xs-flex-column-650"},A=m(()=>e("h2",{class:"text-h3 mb-0"},"Purchased",-1)),E={class:"xs-width-100-650 opus-tools-select"},O={class:"purchased-tiles--container pl-10"},Y={key:0,class:"col-xs-12 d-flex mb-10 mt-15 pl-0 pr-0 dashed-border"},B=m(()=>e("div",{class:"col-xs-10 xs-flex-column p-0 d-flex align-items-center pl-15"},[e("span",{class:"text-primary cursor-pointer pr-10 sort-label"}," Name ")],-1)),R={key:0,class:"col-xs-2 p-0 xs-flex-column d-flex date--filter justify-content-end"},W=m(()=>e("span",{class:"text-primary cursor-pointer pr-30"},"Purchased date",-1)),$=[W],q=["onClick"],H={class:"col-xs-12 p-0 d-flex col-gap-20 align-items-center"},K={class:"col-xs-12 col-sm-9 col-md-9 p-0 d-flex col-gap-20 align-items-center"},U=m(()=>e("img",{class:"training-img",src:N,alt:""},null,-1)),z={class:"d-flex flex-direction-column col-xs-12 p-0"},J=m(()=>e("div",{class:"fw-300 text-primary mb-5 d-flex justify-content-between xs-flex-column"},[e("div",{class:"flex-50"},"Tool")],-1)),G={class:"fw-700 font-18 text-primary mb-10 d-flex xs-flex-column"},Q={class:""},X={key:0,class:"free-version xs-free-version"},Z={class:"col-xs-12 col-sm-3 col-md-3 p-0 d-flex col-gap-20 align-items-center justify-content-end"},ee={key:0,class:"white-space"},se={key:0,class:"pl-15 pb-15 pt-10 pr-15"},te={class:"text-regular-large"},oe={key:1,class:"pl-15 pb-15 pt-10 pr-15"},ae={class:"text-regular-large orange-bg2 expiry-box"},re={key:2,class:"pl-15 pb-15 pt-10 pr-15"},le={class:"text-regular-large red-bg1 expiry-box white-1"},ie={key:3,class:"pr-15 pb-15 pr-15"},ce={class:"text-regular-large red-bg1 expiry-box white-1"},de={class:"white-space pr-20"};function ne(s,o,i,_,a,d){const h=u("opus-select"),x=u("loader");return r(),l("div",M,[e("div",j,[A,e("div",E,[p(h,{class:"opusToolsSelect",modelValue:a.activeTabName.available,"onUpdate:modelValue":o[0]||(o[0]=t=>a.activeTabName.available=t),options:a.trainingsData.available,trackBy:"id","custom-label":d.customLabel},null,8,["modelValue","options","custom-label"])])]),e("div",O,[a.windowWidth>850?(r(),l("div",Y,[B,a.anyPurchasedTool&&a.anyPurchasedTool.length>0?(r(),l("div",R,$)):n("",!0)])):n("",!0),(r(!0),l(k,null,S(a.toolsList,t=>(r(),l("div",{class:"details-wrapper col-xs-12 p-10 mb-10 d-flex xs-flex-column",key:t.id,onClick:ve=>d.redirect(t.link)},[e("div",H,[e("div",K,[U,e("div",z,[J,e("div",G,[e("div",Q,c(t.title),1),t.enrolled?n("",!0):(r(),l("p",X," Free Version "))])])]),e("div",Z,[t.expiry_days?(r(),l("div",ee,[t.expiry_days>90?(r(),l("div",se,[e("p",te," Expires: "+c(d.formatPurchaseDate(t.expiry_date)),1)])):t.expiry_days<=90&&t.expiry_days>10?(r(),l("div",oe,[e("p",ae," Expires: "+c(t.expiry_days)+" days ",1)])):t.expiry_days<=10&&t.expiry_days>1?(r(),l("div",re,[e("p",le," Expires: "+c(t.expiry_days)+" days ",1)])):t.expiry_days==1?(r(),l("div",ie,[e("p",ce,"Expires: "+c(t.expiry_days)+" day",1)])):n("",!0)])):n("",!0),e("p",de,c(d.formatPurchaseDate(t.purchase_date)),1)])]),p(x,{loadingStatus:a.loaderStatus},null,8,["loadingStatus"])],8,q))),128))])])}const pe=y(F,[["render",ne],["__scopeId","data-v-e894d61f"]]),ue="/static/images/icons/tools_not_selected.svg",me={props:["userId"],data(){return{loaderStatus:!1,purchasedDocsList:[],availableDocsList:[]}},async created(){await this.getAllDocuments()},components:{AvailableTools:pe,Loader:v,marketPlaceTools:b},methods:{async getAllDocuments(){this.loaderStatus=!0,this.availableDocsList=await g(),this.loaderStatus=!1}}},_e={class:"content-wrappper p-20"},he=L('<div class="col-xs-12 p-0" data-v-93574cd0><div class="col-xs-12 col-sm-8" data-v-93574cd0><div class="col-xs-12 p-0 mb-20 text-primary module-header fw-300" data-v-93574cd0> Discover OPUS tools </div><div class="col-xs-12 col-sm-9 p-0" data-v-93574cd0><p data-v-93574cd0> OPUS provides productivity tools to support your analysis, design, evaluation, and validation efforts. </p><p data-v-93574cd0> Our complimentary tools help with key HFE decisions, like defining an appropriate scope for an HFE project or usability test, or choosing the right text size. Our premium tool – the RCA Wizard – enhances your RCA skills by providing immediate access to hundreds of common root causes. </p></div></div><div class="col-xs-12 col-sm-4 xs-hide-650" data-v-93574cd0><img class="mt-10" src="'+ue+'" alt="" data-v-93574cd0></div></div>',1),xe={class:"col-xs-12 mb-30"},fe={class:"col-xs-12"};function ye(s,o,i,_,a,d){const h=u("available-tools"),x=u("market-place-tools"),t=u("loader");return r(),l("div",_e,[he,e("div",null,[e("div",xe,[p(h,{loader:a.loaderStatus,userId:i.userId},null,8,["loader","userId"])]),e("div",fe,[p(x,{loader:a.loaderStatus,userId:i.userId,purchasedList:a.purchasedDocsList},null,8,["loader","userId","purchasedList"])])]),p(t,{loadingStatus:a.loaderStatus},null,8,["loadingStatus"])])}const We=y(me,[["render",ye],["__scopeId","data-v-93574cd0"]]);export{We as default};
