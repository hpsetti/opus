import{g as S,_ as m,d as k,o as e,c as s,a,F as i,m as p,t as _,k as h,n as y,b as v,r as f,p as g,f as b,e as $}from"./index-BlMJxPGQ.js";import{L as w}from"./Loader-DR0R9oEF.js";async function L(t){let r={};return await S.get(`https://backend.opus.emergobyul.com/services/activity/tracker/plans/info/${t}`).then(o=>{o.status===200&&o.data&&(r=o.data.data)}).catch(o=>console.log("get user preferences java api error",o)),r}const x={components:{Loader:w},props:["accountId"],data(){return{loaderStatus:!1,servicesList:[],tableHeaders:[]}},methods:{dateFormatter(t){return t?k(t).format("DD/MM/YYYY"):""},capitalize(t){return t?t.replace(/_/g," ").toString().toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.substring(1)).join(" "):""},async getServices(){this.loaderStatus=!0;const t=await L(this.accountId);this.loaderStatus=!1,this.servicesList=t,this.tableHeaders=this.servicesList.length?Object.keys(this.servicesList[0]):[]}},async created(){await this.getServices()}},C=t=>(g("data-v-f47d37bf"),t=t(),b(),t),N={class:"row m-0"},V={class:"col-md-12 col-lg-12 col-sm-12 p-0"},j={key:0,class:"p-0 col-xs-12 first_table"},A={class:"table activity-tracker-table"},D={key:1,class:"norecords_wrapper p-20"},F=C(()=>a("div",{class:"no-records-found"},"No Records Found",-1)),H=[F];function T(t,r,o,I,n,l){const d=f("loader");return e(),s("div",N,[a("div",V,[n.servicesList.length?(e(),s("div",j,[a("table",A,[a("thead",null,[a("tr",null,[(e(!0),s(i,null,p(n.tableHeaders,c=>(e(),s(i,null,[c!=="active"?(e(),s("th",{key:c},_(c|l.capitalize),1)):h("",!0)],64))),256))])]),a("tbody",null,[(e(!0),s(i,null,p(n.servicesList,c=>(e(),s("tr",{key:c.id,class:y({greyout:!c.active})},[(e(!0),s(i,null,p(n.tableHeaders,u=>(e(),s(i,null,[u!=="active"?(e(),s("td",{key:u},[a("div",null,_(c[u]),1)])):h("",!0)],64))),256))],2))),128))])])])):(e(),s("div",D,H)),v(d,{loadingStatus:n.loaderStatus},null,8,["loadingStatus"])])])}const Y=m(x,[["render",T],["__scopeId","data-v-f47d37bf"]]),z={components:{AccountServices:Y},data(){return{accountId:""}},props:["roleId"],created(){this.roleId!==5&&this.roleId!==11&&this.$router.push("/home"),this.accountId=sessionStorage.getItem("getAccountDetailsId"),this.accountId||(window.history.length>2?this.$router.go(-1):this.$router.push("/launchpad"))},methods:{back(){const t=sessionStorage.getItem("serviceTrackerPlanId");t?this.$router.push({name:"ServiceTracker",params:{plan_id:t}}):this.$router.push("/launchpad")}}},B=t=>(g("data-v-a8bb75a6"),t=t(),b(),t),M={class:"content-wrappper"},P={class:"row m-25-10"},E={class:"col-xs-7 col-sm-8 col-lg-9 mb-15"},O=B(()=>a("i",{class:"fa fa-angle-left"},null,-1));function R(t,r,o,I,n,l){const d=f("account-services");return e(),s("div",M,[a("div",P,[a("div",E,[a("a",{href:"javascript:void(0);",class:"sub-heading",onClick:r[0]||(r[0]=c=>l.back())},[O,$("Account Name ")])])]),v(d,{"account-id":n.accountId},null,8,["account-id"])])}const G=m(z,[["render",R],["__scopeId","data-v-a8bb75a6"]]);export{G as default};
