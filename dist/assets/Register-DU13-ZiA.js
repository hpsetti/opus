import{_ as S,s as L,B as D,c as o,a as e,b as p,w as f,i as B,j as g,v as w,n as _,k as d,F as x,m as V,q as N,t as y,e as h,l as C,r as b,o as i,p as R,f as P}from"./index-BlMJxPGQ.js";import{d as U,v as F,p as I,g as M,a as q,b as T}from"./register-DZodNpzf.js";import{v as A,i as O,a as H,b as z,c as j,d as G}from"./validator-Bi5jra31.js";import{p as J}from"./marketo-zx_g1DXt.js";import{u as Y}from"./index-tvgxpbll.js";import{_ as K}from"./eye-logo-CD6ulyGQ.js";import"./index-CWzxsAm4.js";const Q="/static/images/logos/opus-logo.svg",W={components:{Multiselect:L,BaseButton:D},setup(){return{v$:Y()}},validations:{user_data:A},data(){return{user_data:{first_name:"",last_name:"",email:"",title:"",company_name:"",country:"",mobile:"",card_address:"",city:"",state:"",zipcode:"",password:"",cpassword:"",terms:!1},countriesList:[],responsibilitiesList:[],btnTxt:"Create free account",submitStatus:null,termsErr:!1,isFreeDomain:!1,specialCharacterErrMsg:"The following characters are not allowed: * ? < > ! @ # $ “ % ^",counter:0,verification:[{message:"Have at least one capital letter",valid:!1},{message:"Have at least one lowercase letter",valid:!1},{message:"Have at least one number",valid:!1},{message:"Have at least one special character from !@#$.,+=()_%^&*",valid:!1}],isPasswordLength:!1,passwordError:!1,userDataMaxCharLength:{last_name:50},defaultMaxCharLength:65,blockedEmailDomains:[],isEmailBlocked:!1}},async created(){this.$route.query&&localStorage.setItem("utm_codes",JSON.stringify(this.$route.query)),await this.getEmailStatus(),await this.loadCountries(),this.isEmailBlocked&&await this.fetchBlockedEmails()},methods:{resolveUserDataLength(l){this.user_data[l]&&(this.user_data[l]=this.user_data[l].substring(0,this.userDataMaxCharLength[l]||this.defaultMaxCharLength))},async checkEmailIsValid(){if(this.v$.user_data.email.$touch(),this.user_data.email.includes("@")&&this.isEmailBlocked){const l=this.user_data.email.split("@"),t=l[l.length-1].toLowerCase(),u=this.blockedEmailDomains.map(a=>a.toLowerCase());this.isFreeDomain=this.v$.user_data.email.isValidMail&&(U.includes(t)||u.includes(t))}},validate(){this.counter=0,this.user_data.password&&(this.verification[0].valid=O(this.user_data.password),this.verification[1].valid=H(this.user_data.password),this.verification[2].valid=z(this.user_data.password),this.verification[3].valid=j(this.user_data.password)),this.counter=G(this.user_data.password),this.isPasswordLength=!1,this.user_data.password.length>=10&&(this.isPasswordLength=!0),this.passwordError=!1,this.isPasswordLength&&this.counter>=3&&(this.passwordError=!0)},checkTerms(){this.termsErr="",this.user_data.terms?(this.termsErr="Check box to accept the Terms & Conditions in order to create an account",this.btnTxt="Confirm and Create account"):this.btnTxt="Create free account"},switchVisibility(){const l=document.querySelector("#password");l.getAttribute("type")==="password"?l.setAttribute("type","text"):l.setAttribute("type","password")},async submit(){if(this.v$.$touch(),this.termsErr="",this.v$.$invalid)this.submitStatus="ERROR";else if(!this.passwordError)this.submitStatus="ERROR";else if(this.isFreeDomain)this.submitStatus="ERROR";else if(!this.user_data.terms)this.termsErr="You must accept the terms to create an account",this.btnTxt="Confirm and Create account";else{["last_name"].forEach(u=>this.resolveUserDataLength(u)),this.submitStatus="PENDING";const l={email:this.user_data.email},t=await F(l);if(t&&t.status)this.termsErr="Email already registered.",this.submitStatus=null;else if(t&&!t.status){this.submitStatus="PENDING";const u=this.countriesList.filter(r=>r.alpha_three_code===this.user_data.country),a=this.user_data,s={card_location:u[0].country_name,alpha_three_code:u[0].alpha_three_code,title:a.title,card_postal:a.zipcode,card_state:a.state,card_city:a.city,card_address:a.card_address,phone:a.mobile,company:a.company_name,email:a.email,first_name:a.first_name,last_name:a.last_name,password:a.password,terms:a.terms};Object.keys(s).forEach(r=>{(s[r]===null||s[r]===void 0||s[r]==="")&&delete s[r]}),this.registrationFail=!1,this.termsErr="",this.btnTxt="Submitting Form...";const n=JSON.parse(localStorage.getItem("utm_codes")),c={first_name:a.first_name,last_name:a.last_name,email:a.email,company:a.company_name,unstandardized_country:u[0].country_name,Last_Interest:"Human Factors Research & Design",page_urlextended:window.location.href,page_urlreferral_extended:document.referrer,form_control:"Confirm and Create account"};n&&(c.gAKeyword=n.keyword,c.utmcampaign=n.utm_campaign,c.utmcontent=n.utm_content,c.utmmedium=n.utm_medium,c.utmmktoadid=n.utm_mktoadid,c.utmmktocampaign=n.utm_mktocampaign,c.utmsource=n.utm_source,c.utmterm=n.utm_term),J(c),`${this.$route.path}`==="/register/compliancewire"?s.compliance=!0:s.compliance=!1;const v=await I(s);this.btnTxt="Confirm and Create account",this.submitStatus=null,v&&(v.status?this.$router.push({name:"login",params:{successMessage:v.message}}):this.termsErr=v.message)}}},async loadCountries(){this.countriesList=await M()},async fetchBlockedEmails(){const l=await q();this.blockedEmailDomains=l.map(t=>t.email)},async getEmailStatus(){const l=await T();this.isEmailBlocked=l.block_email}}},m=l=>(R("data-v-6243e371"),l=l(),P(),l),X={class:"register-wrapper row d-flex mr-0 ml-0 p-0"},Z=C('<div class="col-xs-4 show-md mobile-menu-btn pr-0" data-v-6243e371><div class="d-flex menu-btn align-items-end flex-direction-column row-gap-5" type="button" aria-expanded="false" data-toggle="collapse" data-target="#NavBar_DropDown_Register" data-v-6243e371><div class="x" data-v-6243e371></div><div class="y" data-v-6243e371></div><div class="z" data-v-6243e371></div></div></div>',1),$={id:"NavBar_DropDown_Register","aria-expanded":"false",class:"collapse p-20"},ee=m(()=>e("li",null,[e("a",{href:"https://www.emergobyul.com/terms-of-use?action",target:"_blank"},"Emergo by UL Terms of Use")],-1)),se=m(()=>e("li",null,[e("a",{href:" https://www.emergobyul.com/privacy-policy",target:"_blank"},"Privacy Policy")],-1)),te=C('<div class="col-xs-12 col-sm-5 p-0 img-wrapper" data-v-6243e371><div class="col-xs-12 image-content" data-v-6243e371><div class="col-xs-12 p-0" data-v-6243e371><img class="opus-image" alt="opus-img" src="'+Q+'" data-v-6243e371></div><div class="opus-acct col-xs-12 p-0 fw-300" data-v-6243e371> Create a free OPUS account </div><div class="opus-para col-xs-12 p-0" data-v-6243e371> Access valuable HFE resources like tools, trainings, and templates from Emergo by UL’s Human Factors Research &amp; Design. </div></div></div>',1),ae={class:"col-xs-12 col-sm-7 h-100 form-details"},re={class:"col-xs-12 d-flex justify-content-end col-gap-30 md-hide action-buttons mt-20 font-18"},oe=m(()=>e("a",{href:"https://www.emergobyul.com/services/human-factors-research-design#show-modal"},"Contact us",-1)),ie=m(()=>e("div",{class:"col-xs-12 create-account crt-acct mb-20 fw-300"}," Create Account ",-1)),le=m(()=>e("div",{class:"col-xs-12 account-info mb-20"}," Advanced access for Emergo by UL clients ",-1)),ne={class:"col-xs-12 form-container pb-30"},de={class:"col-md-12 p-0"},ce={class:"col-md-6 pl-0"},me={class:"form-group"},ue=m(()=>e("label",{for:"first-name"},"First Name",-1)),_e={key:0},he={key:0,class:"custom-error-class"},pe={key:1,class:"custom-error-class"},ve={class:"col-md-6 pl-0"},fe={class:"form-group"},ge=m(()=>e("label",{for:"last-name"},"Last Name",-1)),we=["maxlength"],ye={key:0},be={key:0,class:"custom-error-class"},ke={key:1,class:"custom-error-class"},xe={class:"col-md-12 pl-0"},Ce={class:"form-group"},Ee=m(()=>e("label",{for:"email-id"},"Email",-1)),Se={key:0},Le={key:0,class:"custom-error-class"},De={key:1,class:"custom-error-class"},Be={key:0,class:"custom-error-class"},Ve={class:"col-md-12 pl-0"},Ne={class:"form-group"},Re=m(()=>e("label",{for:"company-id"},"Company",-1)),Pe={key:0},Ue={key:0,class:"custom-error-class"},Fe={key:1,class:"custom-error-class"},Ie={key:2,class:"custom-error-class"},Me={class:"col-md-12 pl-0"},qe={class:"form-group"},Te=m(()=>e("label",null,"Country",-1)),Ae={key:0,class:"custom-error-class"},Oe={class:"col-md-12 pl-0"},He={class:"form-group mb-0"},ze=m(()=>e("label",{for:"password"},"Password",-1)),je={key:0,class:"col-md-12 col-xs-12 col-sm-12 alert alert-dismissible alert-danger",id:"divPasswordValidationResult"},Ge={key:0,id:"length",class:"password-must mt-10 title"},Je={class:"password-cond"},Ye={key:0},Ke=m(()=>e("p",{class:"password-must pb-5"}," Your password must meet 3 out of 4 criteria : ",-1)),Qe={key:0,id:"capital",class:"mandatory-field"},We={key:1,class:"custom-error-class"},Xe=m(()=>e("span",{class:"terms-conditions"},[h(" I agree to the "),e("span",{class:"terms-service"},[e("a",{href:"/terms-of-service",target:"_blank"},"OPUS Software-as-a-Service Agreement")])],-1)),Ze={key:0,class:"custom-error-class col-xs-12 mb-10"},$e={class:"complt_cret_acct mt-30 mb-30 form-button col-xs-12 p-0"},es={class:"existing-acct mb-30"};function ss(l,t,u,a,s,n){const c=b("router-link"),k=b("multiselect"),v=b("BaseButton");return i(),o("div",X,[Z,e("ul",$,[e("li",null,[p(c,{"data-toggle":"collapse","data-target":"#NavBar_DropDown_Register",to:"/login"},{default:f(()=>[h("Log in")]),_:1})]),e("li",null,[p(c,{"data-toggle":"collapse","data-target":"#NavBar_DropDown_Register",to:"/register"},{default:f(()=>[h("Sign up")]),_:1})]),e("li",null,[p(c,{"data-toggle":"collapse","data-target":"#NavBar_DropDown_Register",to:"/terms-of-service"},{default:f(()=>[h("OPUS SaaS agreement")]),_:1})]),ee,se]),te,e("div",ae,[e("div",re,[p(c,{to:"/login"},{default:f(()=>[h("Log in")]),_:1}),oe]),ie,le,e("div",ne,[e("form",{onSubmit:t[15]||(t[15]=B((...r)=>n.submit&&n.submit(...r),["prevent"]))},[e("div",de,[e("div",ce,[e("div",me,[ue,g(e("input",{id:"first-name",class:_(["form-control comn_border",a.v$.user_data.first_name.$error?"invalid":""]),"onUpdate:modelValue":t[0]||(t[0]=r=>s.user_data.first_name=r),type:"text",placeholder:"First Name",maxlength:"65",onBlur:t[1]||(t[1]=r=>a.v$.user_data.first_name.$touch())},null,34),[[w,s.user_data.first_name,void 0,{trim:!0}]]),a.v$.user_data.first_name.$error?(i(),o("div",_e,[a.v$.user_data.first_name.required?a.v$.user_data.first_name.minLength?d("",!0):(i(),o("div",pe," Minimum 2 characters required. ")):(i(),o("div",he," Complete required field "))])):d("",!0)])]),e("div",ve,[e("div",fe,[ge,g(e("input",{id:"last-name",class:_(["form-control comn_border",a.v$.user_data.last_name.$error?"invalid":""]),maxlength:s.userDataMaxCharLength.last_name,type:"text",placeholder:"Last Name","onUpdate:modelValue":t[2]||(t[2]=r=>s.user_data.last_name=r),onBlur:t[3]||(t[3]=r=>a.v$.user_data.last_name.$touch()),onInput:t[4]||(t[4]=r=>n.resolveUserDataLength("last_name"))},null,42,we),[[w,s.user_data.last_name,void 0,{trim:!0}]]),a.v$.user_data.last_name.$error?(i(),o("div",ye,[a.v$.user_data.last_name.required?a.v$.user_data.last_name.minLength?d("",!0):(i(),o("div",ke," Minimum 2 characters required. ")):(i(),o("div",be," Complete required field "))])):d("",!0)])])]),e("div",xe,[e("div",Ce,[Ee,g(e("input",{id:"email-id",class:_(["form-control comn_border",{"invalid-border":a.v$.user_data.email.$error||s.isFreeDomain}]),type:"text",placeholder:"Email","onUpdate:modelValue":t[5]||(t[5]=r=>s.user_data.email=r),maxlength:"65",onInput:t[6]||(t[6]=r=>n.checkEmailIsValid())},null,34),[[w,s.user_data.email,void 0,{trim:!0}]]),a.v$.user_data.email.$error?(i(),o("div",Se,[a.v$.user_data.email.required?a.v$.user_data.email.isValidMail?d("",!0):(i(),o("div",De," Invalid email format. Valid entries include: someone@example.com. ")):(i(),o("div",Le," Complete required field "))])):(i(),o(x,{key:1},[s.isFreeDomain?(i(),o("div",Be," To combat fraudulent account creation, we have restricted certain domain email addresses from creating new accounts. ")):d("",!0)],64))])]),e("div",Ve,[e("div",Ne,[Re,g(e("input",{id:"company-id",class:_(["form-control comn_border",a.v$.user_data.company_name.$error?"invalid":""]),type:"text",placeholder:"Company name","onUpdate:modelValue":t[7]||(t[7]=r=>s.user_data.company_name=r),maxlength:"65",onBlur:t[8]||(t[8]=r=>a.v$.user_data.company_name.$touch())},null,34),[[w,s.user_data.company_name,void 0,{trim:!0}]]),a.v$.user_data.company_name.$error?(i(),o("div",Pe,[a.v$.user_data.company_name.required?a.v$.user_data.company_name.minLength?a.v$.user_data.company_name.isAlphaNum?d("",!0):(i(),o("div",Ie," First character should be alphanumeric ")):(i(),o("div",Fe," Minimum 2 characters required. ")):(i(),o("div",Ue," Complete required field "))])):d("",!0)])]),e("div",Me,[e("div",qe,[Te,p(k,{class:_(["VMSelectCss overflow-country mr-bt--6",a.v$.user_data.country.$error?"invalid":""]),"allow-empty":!1,placeholder:"Select a country",label:"countryName",modelValue:s.user_data.country,"onUpdate:modelValue":t[9]||(t[9]=r=>s.user_data.country=r),"show-labels":!1,options:s.countriesList.map(r=>r.alpha_three_code),"custom-label":r=>s.countriesList.find(E=>E.alpha_three_code===r).country_name},null,8,["class","modelValue","options","custom-label"]),!a.v$.user_data.country.required&&a.v$.user_data.country.$error?(i(),o("div",Ae," Complete required field ")):d("",!0)])]),e("div",Oe,[e("div",He,[e("div",null,[s.passwordError&&s.user_data.password?(i(),o("i",{key:0,class:_(["fa fa-check",s.passwordError&&s.user_data.password?"tick":""]),id:"checkbox-img","aria-hidden":"true"},null,2)):d("",!0)]),ze,g(e("input",{id:"password",class:_(["form-control comn_border password-color",!s.passwordError&&s.submitStatus?"invalid":""]),type:"password",maxlength:"65",placeholder:"Password","onUpdate:modelValue":t[10]||(t[10]=r=>s.user_data.password=r),autocomplete:"new-password",onInput:t[11]||(t[11]=(...r)=>n.validate&&n.validate(...r))},null,34),[[w,s.user_data.password]]),e("span",null,[e("img",{src:K,alt:"eye-image",id:"togglePassword",onClick:t[12]||(t[12]=r=>n.switchVisibility())})]),!s.passwordError&&s.user_data.password?(i(),o("div",je,[s.isPasswordLength?d("",!0):(i(),o("p",Ge," Password must have at least 10 characters ")),e("ul",Je,[s.counter<3?(i(),o("div",Ye,[Ke,(i(!0),o(x,null,V(s.verification,r=>(i(),o("div",{key:r.message},[r.valid?d("",!0):(i(),o("li",Qe,y(r.message),1))]))),128))])):d("",!0)])])):d("",!0),!this.user_data.password&&s.submitStatus?(i(),o("div",We," Please enter a password ")):d("",!0)])]),e("div",{class:_(["check-content pl-0 col-xs-12 d-flex align-items-center",{"terms-container":!(!s.passwordError&&s.user_data.password)}])},[g(e("input",{type:"checkbox",id:"terms",class:"checkbox-register",onClick:t[13]||(t[13]=(...r)=>n.checkTerms&&n.checkTerms(...r)),name:"terms","onUpdate:modelValue":t[14]||(t[14]=r=>s.user_data.terms=r)},null,512),[[N,s.user_data.terms]]),Xe],2),s.termsErr?(i(),o("div",Ze,y(s.termsErr),1)):d("",!0),e("div",$e,[p(v,{type:"submit",value:"validate",id:"confirmButton",disabled:s.submitStatus==="PENDING"},{default:f(()=>[h(y(s.btnTxt),1)]),_:1},8,["disabled"])]),e("div",es,[h(" Already have an account? "),p(c,{to:"/login"},{default:f(()=>[h("Log in")]),_:1})])],32)])])])}const ds=S(W,[["render",ss],["__scopeId","data-v-6243e371"]]);export{ds as default};
