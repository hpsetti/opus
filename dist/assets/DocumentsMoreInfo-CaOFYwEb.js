import{L as k}from"./Loader-DR0R9oEF.js";import"./moment-Cl4UOzQZ.js";import{c as T}from"./constants-DZfa7LnM.js";import{a as R}from"./cart-QHhiBhPv.js";import{_ as w,B as O,o as s,c as a,a as e,n as m,F as d,k as i,t as l,m as D,b as f,w as y,e as v,I as x,r as g,p as A,f as I}from"./index-BlMJxPGQ.js";import"./event-bus-DYoA24Gz.js";import{_ as E}from"./tool_available-BYBTocPu.js";import{_ as S}from"./trash-D7-advNl.js";import{_ as B}from"./goto_arrow-zLb6UYwr.js";const M="/static/images/documents/document_header_template.svg",V="/static/images/documents/document_header.svg",F="/static/images/icons/empty_tools.svg",L="/static/images/documents/download.svg",N={props:{templateInfo:{type:Object},moduleType:{type:String,default:"documents"},userId:{type:Number,required:!0},isRca:{type:Boolean,default:!1},loader:{type:Boolean}},data(){return{cartStatus:T,loaderStatus:!1,contentsForLibrary:{},templateDetails:{}}},components:{Loader:k,BaseButton:O},watch:{templateInfo(){this.templateDetails=this.templateInfo||{},this.$route.path!=="/market-place/cart"&&this.templateDetails.cart_status.purchase_status==="REMOVE_FROM_CART"&&(this.templateDetails.cart_status.purchase_status="GO_TO_CART")},loader(){this.loaderStatus=this.loader}},methods:{async addRemoveCart(o){const r=this.moduleType==="documents"?o.document_id:o.plan_id,{purchase_status:n}=o.cart_status;if(n==="REMOVE_FROM_CART"){const u={type:"remove",body:"Are you sure you want to remove this item?"};this.$emit("setCartInfo",{cartInfo:u,item:o})}if(n==="GO_TO_CART")this.$router.push("/market-place/cart");else if(n==="ADD_TO_CART"){this.loaderStatus=!0;const u={user_id:this.userId,plan_id:r},t=await R(u);if(this.loaderStatus=!1,t.data&&t.data.status_code===200){const _={type:"add",body:""};this.$emit("setCartInfo",{cartInfo:_,item:o}),this.emitter.emit("getDynimicCartdetails"),this.emitter.emit("cart-items-updated")}}},downloadDocument(o){this.$emit("downloadDoc",o)},navigateToRCA(){const o=this.templateDetails.name.toLowerCase().split(" ").join("-");this.$router.push(`/tools/${o}`)}}},p=o=>(A("data-v-2aea6031"),o=o(),I(),o),P={id:"document-more-info",class:"modal",role:"dialog"},j={class:"modal-dialog modal-lg custom-modal-class"},G={key:0,class:"modal-content col-xs-12 p-20"},z={class:"modal-header"},H={key:0,class:"header-image",src:M},U={key:1,class:"header-image",src:V},q=p(()=>e("span",null,"Document",-1)),W=p(()=>e("img",{class:"tool-img",src:E},null,-1)),J=p(()=>e("span",null,"Tools",-1)),K={class:"modal-body col-xs-12 text-start"},Q={class:"col-xs-12 p-0 template-subheader"},X={class:"col-xs-8 p-0"},Y={class:"col-xs-12 p-0 template-header"},Z=["innerHTML"],$={class:"text-secondary pr-15 fw-700 font-14 validity-text"},tt={class:"col-xs-4 p-0"},et=p(()=>e("div",{class:"col-xs-12 template-contents p-0"},"Contents",-1)),st={class:"col-xs-12 p-0 mt-10 pl-20"},at={class:"custom-bullet"},ot={class:"col-xs-12 p-0 mt-15"},lt={class:"col-xs-12 p-0 template-contents document-types mt-15 mb-10"},it={key:0},rt={key:1},ct={class:"col-xs-12 pr-0 purchase-info-main"},pt={class:"d-flex justify-content-between"},nt={class:"d-flex"},_t={class:"purchase-info p-0 font-18 font-bold pr-10"},mt={key:0,class:"pl-15 pb-15"},dt={class:"text-regular-large orange-bg2 expiry-box"},ut={key:1,class:"pl-15 pb-15"},ht={class:"text-regular-large"},yt={key:2,class:"pl-15 pb-15"},Dt={class:"text-regular-large orange-bg2 expiry-box"},ft={key:3,class:"pl-15 pb-15"},vt={class:"text-regular-large red-bg1 expiry-box white-1"},xt={key:4,class:"pr-15 pb-15"},gt={class:"text-regular-large red-bg1 expiry-box white-1"},bt={class:"font-18 font-bold text-right p-0"},Ct=p(()=>e("img",{src:F,alt:""},null,-1)),kt=p(()=>e("span",{class:"font-18 fw-700 try-free-version"},"Try Free version",-1)),Tt=[Ct,kt],Rt={key:0,src:S,alt:"",class:"preview-svg"},wt={key:1,src:B,alt:"",class:"preview-svg"},Ot=p(()=>e("img",{src:L,alt:"",class:"preview-svg"},null,-1)),At=p(()=>e("span",{class:"xs-hide"},"Download",-1));function It(o,r,n,u,t,_){const h=g("BaseButton"),b=g("loader");return s(),a("div",null,[e("div",P,[e("div",j,[n.templateInfo?(s(),a("div",G,[e("div",z,[e("div",{class:m(["col-xs-12 p-0 text-start header d-flex align-items-center col-gap-20",{documents:t.templateDetails.is_documents,tools:t.templateDetails.is_tools}])},[t.templateDetails.is_documents?(s(),a(d,{key:0},[t.templateDetails.document_type_for_tab==="Templates"?(s(),a("img",H)):(s(),a("img",U)),q],64)):i("",!0),t.templateDetails.is_tools?(s(),a(d,{key:1},[W,J],64)):i("",!0)],2)]),e("div",K,[e("div",Q,l(t.templateDetails.display_plan_type),1),e("div",X,[e("div",Y,l(t.templateDetails.name),1),e("div",{class:"col-xs-11 p-0 font-14 template-description",innerHTML:t.templateDetails.description},null,8,Z),e("div",$," Validity - "+l(t.templateDetails.plan_type==="Tool"?t.templateDetails.validity_months:t.templateDetails.validity_days)+" days access ",1)]),e("div",tt,[t.templateDetails.contents&&t.templateDetails.contents.length?(s(),a(d,{key:0},[et,e("div",st,[e("ul",at,[(s(!0),a(d,null,D(t.templateDetails.contents,(c,C)=>(s(),a("li",{class:"font-14 white-space",key:C},l(c),1))),128))])])],64)):i("",!0)]),e("div",ot,[e("div",lt,[t.templateDetails.is_documents?(s(),a("ul",it,[(s(!0),a(d,null,D(t.templateDetails.document_types,c=>(s(),a("li",{class:"mb-10",key:c},l(c),1))),128))])):t.templateDetails.is_tools?(s(),a("span",rt,l(t.templateDetails.name!=="Use Error Wizard"?t.templateDetails.purchase_type:""),1)):i("",!0)]),e("div",ct,[e("div",pt,[e("div",nt,[e("div",_t,l(t.templateDetails.is_purchased?"Purchased":"Price"),1),t.templateDetails.previous_purchase_date?(s(),a("div",mt,[e("p",dt," Previously purchased: "+l(t.templateDetails.previous_purchase_date|o.formatPurchaseDate),1)])):i("",!0),t.templateDetails.expiry_days>90?(s(),a("div",ut,[e("p",ht," Expires: "+l(t.templateDetails.expiry_date_time|o.formatPurchaseDate),1)])):t.templateDetails.expiry_days<=90&&t.templateDetails.expiry_days>10?(s(),a("div",yt,[e("p",Dt," Expires: "+l(t.templateDetails.expiry_days)+" days ",1)])):t.templateDetails.expiry_days<=10&&t.templateDetails.expiry_days>1?(s(),a("div",ft,[e("p",vt," Expires: "+l(t.templateDetails.expiry_days)+" days ",1)])):t.templateDetails.expiry_days==1?(s(),a("div",xt,[e("p",gt,"Expires: "+l(t.templateDetails.expiry_days)+" day",1)])):i("",!0)]),e("div",bt," $"+l(t.templateDetails.price),1)])])])]),e("div",{class:m(["footer col-xs-12 mt-10 p-0 d-flex xs-flex-column",{"justify-content-between":t.templateDetails.is_tools&&!t.templateDetails.is_purchased}])},[t.templateDetails.is_tools&&t.templateDetails.expiry_days<1?(s(),a("div",{key:0,onClick:r[0]||(r[0]=(...c)=>_.navigateToRCA&&_.navigateToRCA(...c)),class:m(["d-flex align-items-center col-gap-10 cursor-pointer",{"visible-hidden":n.isRca}])},Tt,2)):i("",!0),e("div",{class:m(["d-flex col-gap-20 flex-auto",{"flex-auto":t.templateDetails.is_documents||t.templateDetails.is_tools&&t.templateDetails.is_purchased}])},[f(h,{"data-dismiss":"modal",variant:"secondary"},{default:y(()=>[v(" Cancel ")]),_:1}),!t.templateDetails.is_purchased&&t.templateDetails.cart_status?(s(),x(h,{key:0,onClick:r[1]||(r[1]=c=>_.addRemoveCart(t.templateDetails)),class:m(["br-20",{"gray-out":t.templateDetails&&t.templateDetails.disable_as_bundle_added_to_cart,primary:t.templateDetails.cart_status.purchase_status==="ADD_TO_CART",secondary:t.templateDetails.cart_status.purchase_status==="REMOVE_FROM_CART",tertiary:t.templateDetails.cart_status.purchase_status==="GO_TO_CART"}]),"has-icon":t.templateDetails.cart_status.purchase_status==="REMOVE_FROM_CART"},{default:y(()=>[t.templateDetails.cart_status.purchase_status==="REMOVE_FROM_CART"?(s(),a("img",Rt)):i("",!0),t.templateDetails.cart_status.purchase_status==="GO_TO_CART"?(s(),a("img",wt)):i("",!0),v(" "+l(t.cartStatus[t.templateDetails.cart_status.purchase_status]),1)]),_:1},8,["has-icon","class"])):t.templateDetails.is_purchased?(s(),x(h,{key:1,variant:"tertiary",onClick:r[2]||(r[2]=c=>_.downloadDocument(t.templateDetails.document_path))},{default:y(()=>[Ot,At]),_:1})):i("",!0)],2)],2),f(b,{loadingStatus:t.loaderStatus},null,8,["loadingStatus"])])):i("",!0)])])])}const jt=w(N,[["render",It],["__scopeId","data-v-2aea6031"]]);export{jt as D,M as _,V as a,L as b};
