import{h as T}from"./moment-Cl4UOzQZ.js";import{_ as I,B as R,$ as w,o,c as a,a as t,F as x,m as v,t as c,k as d,b as i,w as h,e as b,I as O,n as g,r as C,p as S,f as A}from"./index-BlMJxPGQ.js";import{L as D}from"./Loader-DR0R9oEF.js";import{c as E}from"./constants-DZfa7LnM.js";import{a as B}from"./cart-QHhiBhPv.js";import{E as M}from"./event-bus-DYoA24Gz.js";import{_ as P}from"./info-modal-training-icon-Dm7yAfS1.js";import{_ as V}from"./play-D7l_pjgS.js";import{_ as F}from"./goto_arrow-zLb6UYwr.js";import{_ as $}from"./trash-D7-advNl.js";const G={props:["trainingInfo","userId","accountId","loader","loaderPopup"],data(){return{displayData:null,paramId:"",cartStatus:E,loaderStatus:!1}},components:{Loader:D,BaseButton:R},watch:{trainingInfo(){this.displayData=this.trainingInfo}},filters:{getPurchaseStatus(e){switch(e){case"yes":return"Included In Trial";default:return"Price"}},formatPurchaseDate(e){if(e){const _=[e[0],e[1]-1,e[2]];return T(_).format("D MMM YYYY")}return""}},methods:{async addRemoveCart(e,_){if(e.purchase_status==="ADD_TO_CART"){this.loaderStatus=!0;const l={user_id:this.userId,plan_id:_},p=await B(l);if(this.loaderStatus=!1,p.data&&p.data.status_code===200){const r={type:"add",body:""};this.$emit("setCartInfo",{cartInfo:r,item:this.trainingInfo[0]}),M.$emit("cart-items-updated")}}else if(e.purchase_status==="REMOVE_FROM_CART"){const l={type:"remove",body:"Are you sure you want to remove this item?"};this.$emit("setCartInfo",{cartInfo:l,item:this.trainingInfo[0]})}else e.purchase_status==="GO_TO_CART"&&this.$router.push("/market-place/cart")},playTraining(e){e.deep_link&&window.open(e.deep_link,"_blank"),this.reset()},reset(){w("#modal_video").modal("hide")}}},m=e=>(S("data-v-40c1c75a"),e=e(),A(),e),N={id:"modal_video",class:"modal",role:"dialog"},Y={class:"modal-dialog modal-lg request-modal"},L=m(()=>t("div",{class:"modal-header"},[t("div",{class:"col-xs-12 p-0 text-start header d-flex align-items-center col-gap-26"},[t("img",{src:P,class:"lms-training-icon"}),t("span",null,"Training")])],-1)),H={class:"modal-body col-xs-12 text-start"},j={class:"col-xs-12 p-0 training-type mb-5"},q={class:"col-xs-8 p-0"},z={class:"col-xs-12 p-0 training-title mb-5"},J={class:"col-xs-11 p-0 font-14 mb-10"},K={class:"fw-700 font-14 validity-text text-secondary pr-15"},Q={key:0,class:"col-xs-4 p-0"},U={class:"col-xs-12 course-contents p-0"},W={class:"col-xs-12 p-0 mt-10"},X={key:1,class:"col-xs-12 p-0 mt-15"},Z={class:"col-xs-12 p-0 course-contents mt-15"},ss={class:"col-xs-12 p-0 course-contents pt-10"},ts={key:0},es={key:1},os={class:"col-xs-12 pr-0 purchase-info-main mt-10"},as={class:"d-flex justify-content-between"},cs={class:"d-flex"},rs={class:"purchase-info p-0 font-18 font-bold pr-10"},ds={key:0,class:"pl-15 pb-15"},ls={class:"text-regular-large orange-bg2 expiry-box"},_s={key:1,class:"pl-15 pb-15"},is={class:"text-regular-large"},ps={key:2,class:"pl-15 pb-15"},ns={class:"text-regular-large orange-bg2 expiry-box"},us={key:3,class:"pl-15 pb-15"},hs={class:"text-regular-large red-bg1 expiry-box white-1"},ms={key:4,class:"pr-15 pb-15"},ys={class:"text-regular-large red-bg1 expiry-box white-1"},fs={class:"col-xs-2 font-18 font-bold text-right p-0 pr-10"},xs={class:"col-xs-12 p-0"},vs={class:"footer col-xs-12 flex-wrapper align-items-center xs-flex-column col-gap-20"},bs={key:0},Cs=m(()=>t("img",{class:"preview-svg",src:V,alt:""},null,-1)),ks=m(()=>t("span",null,"Play course",-1)),Ts={key:2},Is={key:0,src:F,alt:"",class:"preview-svg"},Rs={key:1,src:$,alt:"Remove from cart"};function ws(e,_,l,p,r,y){const f=C("loader"),n=C("BaseButton");return o(),a("div",null,[t("div",N,[t("div",Y,[(o(!0),a(x,null,v(r.displayData,s=>(o(),a("div",{class:"modal-content col-xs-12 p-20",key:s.plan_id},[L,t("div",H,[t("div",j,c(s.training_type),1),t("div",q,[t("div",z,c(s.title),1),t("div",J,c(s.description),1),t("div",K," Validity - "+c(s.validity_months)+" days access ",1)]),s.training_type!=="Consulting"?(o(),a("div",Q,[t("div",U,c(s.training_type==="Certificate"?"Courses":"Contents"),1),t("div",W,[t("ul",null,[(o(!0),a(x,null,v(s.content_list,(u,k)=>(o(),a("li",{class:"font-14",key:k},c(u),1))),128))])])])):d("",!0),s.training_type!=="Consulting"?(o(),a("div",X,[t("div",Z,c(s.course_count)+" "+c(s.course_count>1?"courses":"course"),1),t("div",ss,[s.training_type==="Certificate"?(o(),a("div",ts,c(s.duration_minutes/60)+" hours ",1)):(o(),a("div",es,c(s.duration_minutes)+" minutes",1))]),t("div",os,[t("div",as,[t("div",cs,[t("div",rs,c(s.included|e.getPurchaseStatus),1),s.previous_purchase_date?(o(),a("div",ds,[t("p",ls," Previously purchased: "+c(s.previous_purchase_date|e.formatPurchaseDate),1)])):d("",!0),s.expiry_days>90?(o(),a("div",_s,[t("p",is," Expires: "+c(s.expiry_date|e.formatPurchaseDate),1)])):s.expiry_days<=90&&s.expiry_days>10?(o(),a("div",ps,[t("p",ns," Expires: "+c(s.expiry_days)+" days ",1)])):s.expiry_days<=10&&s.expiry_days>1?(o(),a("div",us,[t("p",hs," Expires: "+c(s.expiry_days)+" days ",1)])):s.expiry_days==1?(o(),a("div",ms,[t("p",ys,"Expires: "+c(s.expiry_days)+" day",1)])):d("",!0)]),t("div",fs," $"+c(s.price),1)])])])):d("",!0),t("div",xs,[i(f,{loadingStatus:r.loaderStatus},null,8,["loadingStatus"])])]),t("div",vs,[i(n,{"data-dismiss":"modal",variant:"secondary"},{default:h(()=>[b("Cancel ")]),_:1}),s.training_type==="Certificate"&&s.enrolled?(o(),a("div",bs)):s.enrolled?(o(),O(n,{key:1,"has-icon":"",onClick:u=>y.playTraining(s)},{default:h(()=>[Cs,ks]),_:2},1032,["onClick"])):(o(),a("div",Ts,[i(n,{class:g(["br-20",{primary:s.cart_status.purchase_status==="ADD_TO_CART",secondary:s.cart_status.purchase_status==="REMOVE_FROM_CART",tertiary:s.cart_status.purchase_status==="GO_TO_CART"}]),"has-icon":s.cart_status.purchase_status==="GO_TO_CART",onClick:u=>y.addRemoveCart(s.cart_status,s.plan_id),disabled:s.disable_as_bundle_added_to_cart},{default:h(()=>[s.cart_status.purchase_status==="GO_TO_CART"?(o(),a("img",Is)):d("",!0),s.cart_status.purchase_status==="REMOVE_FROM_CART"?(o(),a("img",Rs)):d("",!0),b(" "+c(r.cartStatus[s.cart_status.purchase_status]),1)]),_:2},1032,["class","has-icon","onClick","disabled"])]))])]))),128)),i(f,{loadingStatus:r.loaderStatus||l.loaderPopup},null,8,["loadingStatus"])])])])}const Fs=I(G,[["render",ws],["__scopeId","data-v-40c1c75a"]]);export{Fs as H};
