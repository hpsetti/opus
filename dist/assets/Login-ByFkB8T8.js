import{g as b,_ as v,$ as w,h as g,c as d,a as e,b as n,w as c,i as y,j as m,v as h,t as _,k as f,e as i,l as x,r as S,o as u,p as k,f as M}from"./index-BlMJxPGQ.js";import{l as D}from"./login-C20UV7hD.js";import{_ as I}from"./signin-opus-logo-BJgDGwd2.js";import{_ as L}from"./eye-logo-CD6ulyGQ.js";async function A(){let t=[];return await b.get("https://backend.opus.emergobyul.com/services/open/banner/active").then(s=>{t=s.data.data}).catch(s=>{console.log("banner/active java api error",s)}),t}const B={data(){return{email:"",password:"",selectedAccount:"",accountList:[],errorMessage:"",LoginButton:"Log in",successMessage:"",disableFormSubmit:!1,banners:[]}},components:{},async created(){this.$route.query&&localStorage.setItem("utm_codes",JSON.stringify(this.$route.query)),w("#NavBar_DropDown").removeClass("in"),this.banners=await A(),this.$route.params.successMessage&&(this.successMessage=this.$route.params.successMessage),this.$route.params.errorMessage&&(this.errorMessage=this.$route.params.errorMessage)},computed:{disableSubmit(){return!(this.email&&this.password)}},methods:{getFormData(){return{email:this.email,password:this.password}},getRepCltFormData(){return{email:this.email,password:this.password,account_id:this.selectedAccount.account_id,role_id:this.selectedAccount.role_id,company_name:this.selectedAccount.company_name}},switchVisibility(){const t=document.querySelector("#password");t.getAttribute("type")==="password"?t.setAttribute("type","text"):t.setAttribute("type","password")},async loginUser(){if(g("Authorization")){this.$router.push("/home");return}this.errorMessage="",this.successMessage="";const t=this.getFormData();this.disableFormSubmit=!0,this.LoginButton="Logging in...";const s=await D(t);s&&s.status===!0?(this.errorMessage="",localStorage.setItem("roleId",s.role_id),localStorage.setItem("accountId",s.account_id),localStorage.setItem("userId",s.user_id),this.redirectUrl()):(this.LoginButton="Log in",this.disableFormSubmit=!1,this.errorMessage=s.message)},redirectUrl(){const t=g("redirect_url");t?(document.cookie="redirect_url=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",window.location.href=t):JSON.parse(localStorage.getItem("roleId"))===13?this.$router.push("/compliancewire-marketplace"):this.$router.push("/home")}}},o=t=>(k("data-v-269b7359"),t=t(),M(),t),N={class:"login-wrapper row mr-0 ml-0 p-0"},U={class:"row d-flex align-items-center mr-0 ml-0"},C=o(()=>e("div",{class:"col-xs-8"},[e("img",{class:"opus-image",alt:"opus-img",src:I,width:"152",height:"85"})],-1)),P={class:"col-xs-4 pl-0 login-header-actions d-flex col-gap-30 justify-content-end md-hide"},F=o(()=>e("a",{class:"font-bold font-18",href:"https://www.emergobyul.com/services/human-factors-research-design#show-modal"},"Contact us",-1)),V=x('<div class="col-xs-4 show-md" data-v-269b7359><div class="d-flex menu-btn align-items-end flex-direction-column row-gap-5" type="button" aria-expanded="false" data-toggle="collapse" data-target="#NavBar_DropDown" data-v-269b7359><div class="x" data-v-269b7359></div><div class="y" data-v-269b7359></div><div class="z" data-v-269b7359></div></div></div>',1),E={class:"col-xs-12 p-20 mobile-menu"},j={id:"NavBar_DropDown","aria-expanded":"false",class:"collapse"},T=o(()=>e("li",null,[e("a",{href:"https://www.emergobyul.com/terms-of-use?action",target:"_blank"},"Emergo by UL Terms of Use")],-1)),O=o(()=>e("li",null,[e("a",{href:" https://www.emergobyul.com/privacy-policy",target:"_blank"},"Privacy Policy")],-1)),q={class:"col-xs-12 p-0"},J={class:"col-xs-12 p-0 d-flex justify-content-center"},z={class:"login-whitebox"},R=o(()=>e("p",{class:"page_header pt-20"},"Welcome back to OPUS!",-1)),G=o(()=>e("p",{class:"login-card-desc"}," Please log in to access your existing account ",-1)),W={class:"login-container pl-40 pr-40 pb-20 pt-20"},$={class:"login-input"},H=o(()=>e("label",{for:"email",class:"float-left"},"Email",-1)),K={class:"login-container pl-40 pr-40 pt-20"},Q={class:"login-input"},X=o(()=>e("label",{for:"password",class:"float-left"},"Password",-1)),Y={key:0,class:"alert alert-danger mr-tp-15"},Z={key:1,class:"alert alert-success mr-tp-15"},ee={class:"pl-40 pr-40"},se=["disabled"],te={class:"text-center pb-20"},oe={class:"text-center pb-40"},ae=o(()=>e("div",{class:"mt-20 col-xs-12 p-0 d-flex justify-content-center"},null,-1)),ie={id:"repAccountListModal",class:"modal fade","data-backdrop":"static","data-keyboard":"false",role:"dialog"},re={class:"modal-dialog"},le={class:"modal-content modal_wrapper"},ne=o(()=>e("div",{class:"header_wrapper"},[e("span",{class:"close","data-toggle":"modal","data-target":"#repAccountListModal"},"×"),e("h4",{class:"popup_header"},"Select Account")],-1)),ce={class:"center p-10"},de={key:0},ue={key:1},pe=o(()=>e("br",null,null,-1)),_e=o(()=>e("div",{id:"dlInput"},null,-1)),ge=o(()=>e("span",{class:"error",id:"showErrorMsg"},"Please select a valid account and click on proceed",-1));function me(t,s,he,fe,a,p){const r=S("router-link");return u(),d("div",N,[e("header",null,[e("div",U,[C,e("div",P,[n(r,{to:"/register",class:"log-in font-bold font-18"},{default:c(()=>[i("Create Account")]),_:1}),F]),V])]),e("div",E,[e("ul",j,[e("li",null,[n(r,{"data-toggle":"collapse","data-target":"#NavBar_DropDown",to:"/login"},{default:c(()=>[i("Log in")]),_:1})]),e("li",null,[n(r,{"data-toggle":"collapse","data-target":"#NavBar_DropDown",to:"/register"},{default:c(()=>[i("Sign up")]),_:1})]),e("li",null,[n(r,{"data-toggle":"collapse","data-target":"#NavBar_DropDown",to:"/terms-of-service"},{default:c(()=>[i("OPUS SaaS agreement")]),_:1})]),T,O])]),e("main",q,[e("div",J,[e("div",z,[e("form",{onSubmit:s[3]||(s[3]=y((...l)=>p.loginUser&&p.loginUser(...l),["prevent"]))},[R,G,e("div",W,[e("div",$,[H,m(e("input",{class:"login-input-box-without-icon landing-input-field",type:"text",name:"email",placeholder:"E-mail address","onUpdate:modelValue":s[0]||(s[0]=l=>a.email=l)},null,512),[[h,a.email]])])]),e("div",K,[e("div",Q,[X,m(e("input",{id:"password",class:"login-input-box-without-icon landing-input-field",type:"password",name:"password",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=l=>a.password=l)},null,512),[[h,a.password]]),e("span",null,[e("img",{src:L,alt:"eye-image",id:"togglePassword",width:"18",height:"18",onClick:s[2]||(s[2]=l=>p.switchVisibility())})])]),a.errorMessage?(u(),d("div",Y,[e("strong",null,_(a.errorMessage),1)])):f("",!0),a.successMessage?(u(),d("div",Z,[e("strong",null,_(a.successMessage),1)])):f("",!0)]),e("div",ee,[e("button",{class:"btn btn-success button_signup mt-30 mb-30",disabled:p.disableSubmit||a.disableFormSubmit,type:"submit"},_(a.LoginButton),9,se)]),e("div",te,[n(r,{to:"/forgot",class:"link-text-login font-bold font-18"},{default:c(()=>[i("Forgot your password?")]),_:1})]),e("div",oe,[i(" Don’t have an account yet? "),n(r,{to:"/register",class:"link-text-login font-bold font-18"},{default:c(()=>[i("Create Account")]),_:1})])],32)])]),ae]),e("div",ie,[e("div",re,[e("div",le,[ne,e("div",ce,[a.accountList.length&&a.accountList[0].role_id==10?(u(),d("span",de,"Select the account to display:")):(u(),d("span",ue,"Select the REP client account to display:")),pe,_e,ge])])])])])}const xe=v(B,[["render",me],["__scopeId","data-v-269b7359"]]);export{xe as default};
