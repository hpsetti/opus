import{$ as t}from"./index-BlMJxPGQ.js";import"./event-bus-DYoA24Gz.js";import{r as a}from"./cart-QHhiBhPv.js";const c={methods:{setSelectedTrainingItem(e){e.moduleType==="trainings"?(this.selectedTraining=e.item,e.type==="video"?(this.videoInfo=e.item,t("#preview_video").modal("show")):e.type==="more info"&&t("#modal_video").modal("show")):["documents","tools"].includes(e.moduleType)&&(this.selectedDocument=e.item,t("#document-more-info").modal({backdrop:"static",keyboard:!1}))},async setCartInfo(e,i){this.cartInfo={...e.cartInfo,selectedItem:e.item};const s=i==="ilt";!s&&e.item.is_trainings?this.selectedTraining=e.item:!s&&(e.item.is_tools||e.item.is_documents)&&(this.selectedDocument=e.item),t("#addRemoveCartPopup").modal({backdrop:"static",keyboard:!1}),["trainings","documents","tools"].includes(i)&&e.cartInfo.type==="add"&&(t("#modal_video").hasClass("in")&&t("#modal_video").modal("hide"),t("#document-more-info").hasClass("in")&&t("#document-more-info").modal("hide"),this.emitter.emit("fetchCartList"))},async removeFromCart(e){const{selectedItem:i}=this.cartInfo;t("#addRemoveCartPopup").modal("hide"),this.loaderStatus=!0;const s=e==="ilt"?this.courseDetails:i,{cart_id:d}=s.cart_status,o=await a(d);this.loaderStatus=!1,o.data&&o.data.status_code===200&&(e==="ilt"?this.fetchCourseDetails():(t("#modal_video").hasClass("in")&&t("#modal_video").modal("hide"),t("#document-more-info").hasClass("in")&&t("#document-more-info").modal("hide"),this.emitter.emit("fetchCartList"),this.emitter.emit("getDynimicCartdetails"),["trainings","documents","tools"].includes(e)&&this.getList()),this.$notify({type:o.data.message,title:"Success",text:o.data.data}),this.emitter.emit("cart-items-updated"))},async closeAddRemoveCart(e=!1){var i;((i=this.cartInfo)==null?void 0:i.type)==="add"&&(t("#addRemoveCartPopup").modal("hide"),e?this.fetchCourseDetails():await this.getList())}}};export{c as s};
