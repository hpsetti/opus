import{L as h}from"./Loader-DR0R9oEF.js";import{P as m}from"./PDFViewer-Cah1WRq4.js";import{g as u,a as f}from"./documents-CP6oEKge.js";import{p as _}from"./pdf-file-download-e00IEA9Q.js";import{_ as g}from"./chevron_left_icon-6Fqv5UkY.js";import{_ as w,c as D,a as e,t as v,b as n,r as c,o as P,p as y,f as I}from"./index-BlMJxPGQ.js";import"./debounce-DQE7iwz8.js";const S={props:["userId"],data(){return{whitePaperDetails:{},pdfDetails:{},displayPdf:!0,filePath:"",loaderStatus:!1}},components:{PDFViewer:m,Loader:h},methods:{clearNotifications(){this.$notify({clear:!0})},async getInsightDetails(t,s){this.loaderStatus=!0,this.whitePaperDetails=await u(this.userId,s),this.pdfDetails=this.whitePaperDetails.find(o=>o.document_id===+t);const i=await f({container_name:"preview",permissions:"read",storage_name:"opus-storage-java"});this.filePath=`https://opusjavaprodstorage.blob.core.windows.net${this.pdfDetails.preview_url}?${i.data}`,this.displayPdf=!0,this.$forceUpdate(),this.loaderStatus=!1},async downLoadWhitePaper(){const t=await _(this.filePath);t&&t.error&&(this.clearNotifications(),this.$notify({type:"error",title:"Error",text:t.error.errorMessage}))},documentErrored(){this.displayPdf=!1},getInsightHome(){this.$router.go(-1)}},watch:{async $route(){await this.getInsightDetails(this.$route.params.documentId)}},async created(){const t=+this.$route.query.docType;[1,2,3,5,6,7,8].includes(t)?await this.getInsightDetails(this.$route.params.documentId,t):this.$router.push("/home")}},x=t=>(y("data-v-6eec4a89"),t=t(),I(),t),$={class:"col-xs-12"},k={class:"row fixed-nav-bar"},E={class:"col-xs-12 p-0 font-18"},b={class:"col-xs-12 col-sm-8 p-0"},H=x(()=>e("img",{class:"back-img",src:g,alt:""},null,-1)),N=[H],T={class:"paper-preview"},V={class:"pdf-div"};function B(t,s,d,i,o,a){const l=c("PDFViewer"),p=c("loader");return P(),D("div",$,[e("div",k,[e("div",E,[e("div",b,[e("div",{class:"col-xs-1 width-auto p-0 cursor-pointer",onClick:s[0]||(s[0]=(...r)=>a.getInsightHome&&a.getInsightHome(...r))},N),e("div",{class:"col-xs-11 whitePaperName p-0 cursor-pointer ml-10",onClick:s[1]||(s[1]=(...r)=>a.getInsightHome&&a.getInsightHome(...r))},v(o.pdfDetails.name),1)])])]),e("div",T,[e("div",V,[n(l,{url:o.filePath,onDocumentErrored:a.documentErrored},null,8,["url","onDocumentErrored"])])]),n(p,{loadingStatus:o.loaderStatus},null,8,["loadingStatus"])])}const W=w(S,[["render",B],["__scopeId","data-v-6eec4a89"]]);export{W as default};
