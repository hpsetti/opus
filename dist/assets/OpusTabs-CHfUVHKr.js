import{_ as d,o as u,c as n,a as c,F as o,m as y,n as b,e as m,t as l,k as f,ai as T}from"./index-BlMJxPGQ.js";const k={name:"OpusTabs",model:{event:"tab-selected",prop:"value"},props:{id:{type:String},value:{type:[String,null],default:null},tabs:{type:Array,required:!0},hasRouterParams:{type:Boolean,default:!1},showTabCount:{type:Boolean,default:!1},label:{type:String,default:"name"},trackBy:{type:String,default:"key"},count:{type:String,default:"count"}},computed:{isSimple(){return this.tabs.length===0?!0:typeof this.tabs[0]=="string"},keys(){return this.tabs.map(e=>e[this.trackBy])}},watch:{$route(e){this.hasRouterParams&&e.query[this.trackBy]&&this.setTabUsingQuery(e.query.tabId,e.query[this.trackBy])}},data(){return{currentTab:null}},created(){const e=this.$route.query[this.trackBy];this.isSimple?this.currentTab=this.value:this.hasRouterParams&&e&&this.keys.includes(e)?this.setTabUsingQuery(this.id,e):this.keys.includes(this.value)?this.currentTab=this.value:this.currentTab=this.tabs[0][this.trackBy]},mounted(){this.showTabPane()},methods:{isActive(e){return this.isSimple&&this.currentTab===this.tabs[e]?!0:!this.isSimple&&this.keys[e]===this.currentTab},setTab(e){this.currentTab!==e&&(this.currentTab=e,this.hasRouterParams&&this.$router.push({query:{tabId:this.id,trackBy:e},params:{savePosition:!0}}),this.showTabPane(),this.$emit("tab-selected",e))},showTabPane(){this.keys.every(e=>{const s=document.querySelector(`#opus-tab-content-${this.id} #${e}`);return s?(e===this.currentTab?s.style.display="block":s.style.display="none",!0):!1})},setTabUsingQuery(e,s){this.id===e&&this.keys.includes(s)&&(this.currentTab=s,this.$emit("tab-selected",this.currentTab))}}},p={class:"opus-tabs"},_=["id"],v=["id","data-testid","tabindex","aria-selected","onClick"],S={key:0},B=["id"];function g(e,s,t,P,h,a){return u(),n("div",p,[c("ul",{class:"d-flex",id:t.id},[(u(!0),n(o,null,y(t.tabs,(i,r)=>(u(),n("li",{key:r,id:`tab-${r}`,class:b(["cursor-pointer",{active:a.isActive(r)}]),"data-testid":a.isSimple?i:i[t.trackBy],role:"tab",tabindex:a.isActive(r)?0:-1,"aria-selected":a.isActive(r),onClick:q=>a.setTab(a.isSimple?i:i[t.trackBy])},[m(l(a.isSimple?i:i[t.label])+" ",1),t.showTabCount?(u(),n("span",S,"("+l(i[t.count]||0)+")",1)):f("",!0)],10,v))),128))],8,_),c("div",{class:"opus-tab-content",id:`opus-tab-content-${t.id}`},[T(e.$slots,"default",{selected:h.currentTab},void 0,!0)],8,B)])}const C=d(k,[["render",g],["__scopeId","data-v-f8a15d50"]]);export{C as O};
