import{_ as k,B as E,d as f,o as n,c as r,a as t,t as l,F as I,m as P,n as u,b as _,w as S,e as L,k as c,r as d,p as D,f as C,O as J,H as G,I as V,$ as M,i as K,l as Q,j as X,a1 as Z}from"./index-BlMJxPGQ.js";import{L as W}from"./Loader-DR0R9oEF.js";import{_ as $}from"./vue-html2pdf.esm-Cvk6D9-2.js";import{C as tt,g as et}from"./Certificate-B4mLgPZP.js";import{_ as st}from"./download_icon_white-BHO_3GTH.js";import{c as it,g as at}from"./lmsTraining-BNcLeb-5.js";import{g as nt,a as rt}from"./instructorLedTraining-DE_vpi5U.js";import{_ as Y,a as N}from"./calender-CCkx0mDr.js";import{O as F}from"./OpusSelect-BRceMwA4.js";import{_ as O,I as ot,P as lt,T as ct}from"./TrainingDetails-CIlmMz_H.js";import{_ as R}from"./clock-Bt2qCWrf.js";import{_ as dt}from"./play-ATQZXid4.js";import{h as ut}from"./moment-Cl4UOzQZ.js";import{_ as _t}from"./info-modal-training-icon-Dm7yAfS1.js";import{_ as mt}from"./single_document-D27k7af0.js";import{T as gt}from"./TrainingSignUpModal-BSaXGYz_.js";import{A as ht}from"./AddRemoveCartPopup-CqkASo7c.js";import{c as pt}from"./marketPlaceResources-hux66PHi.js";import{s as ft}from"./shared-uD02DoJF.js";import{_ as yt}from"./caret_up-B2jHJbJA.js";import{_ as vt}from"./purchased_resources-Dm7E7KcS.js";import"./cloneDeep-ldw2ZiUo.js";import"./_baseAssignValue-BD6sbZ4C.js";import"./OpusCheckbox-DmKgoiup.js";import"./chevron_down_new-ByXOiGKT.js";import"./marketo-zx_g1DXt.js";import"./constants-DZfa7LnM.js";import"./cart-QHhiBhPv.js";import"./event-bus-DYoA24Gz.js";import"./play-D7l_pjgS.js";import"./trash-D7-advNl.js";import"./goto_arrow-zLb6UYwr.js";import"./documentsMixin-Bh1uCigM.js";import"./documents-CP6oEKge.js";const wt={props:["viewAllProgressList","selectedCardType","latestActivity"],components:{BaseButton:E,VueHtml2pdf:$,Certificate:tt},data(){return{statusMap:{"Not Started":"Enrolled",Incomplete:"In progress"},userInfo:{},coursesCompleted:0,certificateDateIssued:"",userName:"",certificateDetails:{},certificateDownloadBtn:[]}},mounted(){if(localStorage.getItem("userData")){const e=JSON.parse(localStorage.getItem("userData"));this.userInfo.first_name=e.first_name,this.userInfo.last_name=e.last_name,this.userInfo.id=e.id,this.userName=`${this.userInfo.first_name} ${this.userInfo.last_name}`}},methods:{formatToDateFormat(e){return e?f.utc(`${e}`).local().format("MM/DD/YYYY"):"N/A"},getImageUrl(e){return e?`https://opusjavaprodstorage.blob.core.windows.net${e}`:null},async getCertificateDetails(){this.loaderStatus=!0;try{const e=await et(this.userInfo.id);this.certificateDetails=e.data,this.generatePdf(),this.loaderStatus=!1}catch{const a="certificate api not resolved";return this.loaderStatus=!1,a}return""},async generatePdf(){this.loaderStatus=!0,this.certificateDateIssued=f([this.certificateDetails.date_issued[0],this.certificateDetails.date_issued[1]-1,this.certificateDetails.date_issued[2]]).format("DD-MMM-Y"),await this.$refs.certificatepdf.generatePdf(),this.loaderStatus=!1},getFileName(){return`OPUS_${this.latestActivity.title}_Certificate_${this.userInfo.first_name.slice(0,10)}_${this.userInfo.last_name.slice(0,10)}${f().format("MMDDYYYY")}`}},computed:{getCourseProgress(){return this.viewAllProgressList.forEach(e=>{e.course_status==="Complete"&&(this.coursesCompleted+=1)}),this.coursesCompleted}}},T=e=>(D("data-v-3e06bf41"),e=e(),C(),e),xt={id:"view-all-progress-vertical",class:"modal",role:"dialog"},Lt={class:"modal-dialog modal-md request-modal"},bt={class:"modal-content col-xs-12 p-20"},It={class:"modal-header"},kt={class:"col-xs-12 p-0 text-start header flex-between"},Dt=T(()=>t("img",{"data-dismiss":"modal",class:"cursor-pointer h-24",src:J,alt:""},null,-1)),Ct={class:"modal-body col-xs-12"},Tt={class:"col-xs-12 p-0 progress-header mb-10"},At={key:0,class:"col-xs-12 p-0 flex-align-center mb-15"},St=["src"],Pt={class:"font-14 fw-300 ml-30"},Mt={class:"link"},Et={class:"font-14 fw-300 ml-30"},Yt=T(()=>t("div",{class:"link"},"status",-1)),Nt={key:0},Bt={key:1},Vt={key:1,class:"col-xs-12 p-0 mb-15 no-data-text text-center font-18"},Wt=T(()=>t("div",{class:"col-xs-12 p-0 progress-header mb-10"},"Your progress",-1)),Ft={class:"col-xs-12 p-0 flex-align-center flex-column"},Ot={key:0,class:"wrapper"},Rt=["src"],zt={class:"pl-10 font-14 font-300 title-name"},Ut={key:1,class:"col-xs-12 p-0 mb-15 no-data-text text-center font-18"},qt={key:2,class:"certificate-footer--container emergo-lightgreen-bg mt-20 pl-25 pb-15"},Ht={class:"certificate-text--container"},jt=T(()=>t("h3",{class:"fw-300 mb-5 mt-5"},"Congrats!",-1)),Jt={class:"mb-15 sort-label"},Gt={class:"certificate-download-btn--container"},Kt=T(()=>t("img",{src:st,class:"preview-svg"},null,-1)),Qt={class:"top-frame"},Xt=T(()=>t("span",{class:"top-top"},null,-1)),Zt={class:"bottom-frame"},$t=T(()=>t("span",{class:"bottom-bottom"},null,-1));function te(e,a,s,m,i,o){const p=d("BaseButton"),h=d("Certificate"),v=d("VueHtml2pdf");return n(),r("div",null,[t("div",xt,[t("div",Lt,[t("div",bt,[t("div",It,[t("div",kt,[t("span",null,l(s.selectedCardType==="eLearning"?"eLearning":"Instructor Led")+" Courses",1),Dt])]),t("div",Ct,[t("div",Tt,l(s.selectedCardType==="eLearning"?"Latest activity":"Upcoming"),1),s.latestActivity?(n(),r("div",At,[t("img",{class:"latest-activity-img",src:o.getImageUrl(s.latestActivity.status_icon_path),alt:""},null,8,St),t("div",Pt,[t("div",Mt,l(s.latestActivity.training_type),1),t("div",null,l(s.latestActivity.title),1)]),t("div",Et,[Yt,t("div",null,l(i.statusMap[s.latestActivity.course_status]||s.latestActivity.course_status),1),s.selectedCardType!=="eLearning"?(n(),r("div",Nt,l(s.latestActivity.upcoming_booked_time_slot.slot_start_time|o.formatToDateFormat),1)):(n(),r("div",Bt,l(s.latestActivity.last_updated_time|o.formatToDateFormat),1))])])):(n(),r("div",Vt," You don't have any upcoming courses ")),Wt,t("div",Ft,[s.viewAllProgressList.length>0?(n(),r("ul",Ot,[(n(!0),r(I,null,P(s.viewAllProgressList,(g,A)=>(n(),r("li",{class:u(["col-xs-12 p-0",{enrolled:A!==s.viewAllProgressList.length-1&&s.viewAllProgressList[A+1].course_status==="Enrolled"}]),key:g.id},[t("img",{class:"stepper img-size",src:o.getImageUrl(g.status_icon_path),alt:""},null,8,Rt),t("div",zt,l(g.title),1)],2))),128))])):(n(),r("div",Ut," No Progress to Show ")),s.latestActivity.training_type==="Certificate"&&s.latestActivity.course_status==="Complete"?(n(),r("div",qt,[t("div",Ht,[jt,t("p",Jt," You have earned a certificate in "+l(s.latestActivity.title),1)]),t("div",Gt,[_(p,{class:"emergo-green-button",onClick:o.getCertificateDetails},{default:S(()=>[Kt,L("Download certificate ")]),_:1},8,["onClick"]),_(v,{"show-layout":!1,"float-layout":!1,"enable-download":!0,"preview-modal":!1,filename:o.getFileName(),"pdf-quality":2,"manual-pagination":!0,"pdf-format":"a3","pdf-orientation":"landscape","pdf-content-width":"570px",ref:"certificatepdf",class:"certificate-pdf"},{default:S(()=>[t("div",{class:u(["certificate-content",i.userName.length>=67?"xl-certificate-content":""]),slot:"pdf-content"},[t("div",Qt,[Xt,t("span",{class:u(["top-left",i.userName.length>=67?"xl-top-left":""])},null,2)]),_(h,{certificateName:"HFE for Medical Technology",recipientName:i.userName,dateIssued:i.certificateDateIssued,"certificate-details":i.certificateDetails,certificateNumber:i.certificateDetails.certificate_number,class:"certificate-main"},null,8,["recipientName","dateIssued","certificate-details","certificateNumber"]),t("div",Zt,[$t,t("span",{class:u(["bottom-right",i.userName.length>=67?"xl-bottom-right":""])},null,2)])],2)]),_:1},8,["filename"])])])):c("",!0)])])])])])])}const ee=k(wt,[["render",te],["__scopeId","data-v-3e06bf41"]]),se={props:{eLearningLatesActivity:{type:Object,default:null},iltLatestActivity:{type:Object,default:null},userId:{type:Number,required:!0}},data(){return{statusMap:{"Not Started":"Enrolled",Incomplete:"In progress"}}},computed:{hasProgress(){return this.eLearningLatesActivity||this.iltLatestActivity}},methods:{getImageUrl(e){return e?`https://opusjavaprodstorage.blob.core.windows.net${e}`:null},viewAllProgress(e){this.$emit("viewAllProgress",e)},formatDate(e){return e&&f.utc(`${e}`).local().format("ddd MMM DD , YYYY")},formatToDateFormat(e){return e?f.utc(`${e}`).local().format("MM/DD/YYYY"):"N/A"}}},x=e=>(D("data-v-3da691b0"),e=e(),C(),e),ie={class:"row pl-15"},ae=x(()=>t("div",{class:"col-xs-12 learning-header pl-0"},"Your certificate progress",-1)),ne={key:0,class:"row pl-15 pr-15 progress-container"},re={key:0,class:"col-xs-12 col-md-6 mt-15 fw-300 course-status-card elt-card"},oe={class:"col-xs-12 p-0 flex-between border-bottom"},le=x(()=>t("div",{class:"col-xs-9 p-0 font-bold learning-card-header font-18"}," eLearning Courses ",-1)),ce={key:0,class:"col-xs-12 mt-10 pl-10 mb-15"},de={class:"col-xs-9 pl-0 d-flex"},ue=["src"],_e={class:"font-14 fw-300 pl-15"},me={class:"link"},ge={class:"course-title"},he={class:"col-xs-3 col-sm-3 pr-0 font-14 fw-300"},pe=x(()=>t("div",{class:"link"},"status",-1)),fe={key:1,class:"text-light-black text-center mt-50"},ye=x(()=>t("span",null," You have not purchased any eLearning courses. ",-1)),ve=[ye],we={key:1,class:"col-xs-12 col-md-6 mt-15 fw-300 course-status-card ilt-card"},xe={class:"col-xs-12 p-0 flex-between border-bottom"},Le=x(()=>t("div",{class:"font-bold learning-card-header font-18"}," Instructor Led Courses ",-1)),be={class:"col-xs-12 mt-10 p-0 mb-15"},Ie={class:"col-xs-12 col-sm-12 pl-0 font-14 fw-300"},ke=x(()=>t("div",{class:"link"},"Upcoming",-1)),De={key:0,class:"ilt-status-container col-xs-12 p-0 d-flex flex-wrap"},Ce={class:"col-xs-12 col-sm-3 p-0 font-14 fw-300 mt-10 ilt-availability d-flex align-items-start"},Te=x(()=>t("img",{src:Y,alt:""},null,-1)),Ae={class:"text-light-black ml-10"},Se={class:"col-xs-12 col-sm-9 p-0 font-14 fw-300 ilt-slotdate mt-5 d-flex align-items-center"},Pe=x(()=>t("img",{src:N,alt:""},null,-1)),Me={key:0,class:"ml-10 text-light-black"},Ee={key:1,class:"ml-10 text-light-black"},Ye={key:1,class:"col-xs-12 d-flex col-gap-20 align-items-center mt-15 pb-20"},Ne=["src"],Be=x(()=>t("div",null,[t("div",{class:"not-purchased no-data-color"}," Earn certificates in HF for Medical Technology "),t("div",{class:"mt-10"},[t("span",{class:"no-data-color font-14"},[L(" Take our training courses and work your way to a certification in "),t("br"),L("applying HF to Medical technology or Advanced HF in Medical Technology. ")])])],-1));function Ve(e,a,s,m,i,o){return n(),r("div",ie,[ae,o.hasProgress?(n(),r("div",ne,[this.eLearningLatesActivity?(n(),r("div",re,[t("div",oe,[le,t("div",{onClick:a[0]||(a[0]=p=>o.viewAllProgress("eLearning")),class:"col-xs-3 p-0 font-14 fw-300 link cursor-pointer view-all-progress"}," view all progress ")]),s.eLearningLatesActivity?(n(),r("div",ce,[t("div",de,[t("img",{class:"eLearning-min-height",src:o.getImageUrl(s.eLearningLatesActivity.status_icon_path),alt:""},null,8,ue),t("div",_e,[t("div",me,l(s.eLearningLatesActivity.training_type),1),t("div",ge,l(s.eLearningLatesActivity.title),1)])]),t("div",he,[pe,t("div",null,l(i.statusMap[s.eLearningLatesActivity.course_status]||s.eLearningLatesActivity.course_status),1),t("div",null,l(s.eLearningLatesActivity.last_updated_time|o.formatToDateFormat),1)])])):(n(),r("div",fe,ve))])):c("",!0),this.iltLatestActivity?(n(),r("div",we,[t("div",xe,[Le,t("div",{onClick:a[1]||(a[1]=p=>o.viewAllProgress("instructorLed")),class:"font-14 fw-300 link cursor-pointer view-all-progress"}," view all progress ")]),t("div",be,[t("div",Ie,[ke,t("div",{class:u(["upcoming-training",[s.iltLatestActivity&&s.iltLatestActivity.title?"course-title":"font-14 fw-300"]])},l(s.iltLatestActivity?s.iltLatestActivity.title:"You don't have any upcoming courses"),3)]),s.iltLatestActivity?(n(),r("div",De,[t("div",Ce,[Te,t("div",Ae,l(s.iltLatestActivity?s.iltLatestActivity.location:"Online"),1)]),t("div",Se,[Pe,s.iltLatestActivity&&s.iltLatestActivity.upcoming_booked_time_slot?(n(),r("div",Me,l(s.iltLatestActivity.upcoming_booked_time_slot.slot_start_time|o.formatDate),1)):(n(),r("div",Ee,"N/A"))])])):c("",!0)])])):c("",!0)])):(n(),r("div",Ye,[t("img",{class:"no-learnings-image",src:o.getImageUrl("/icons/LMS-icons/not_enrolled/Certificate 2/State 1.svg"),alt:""},null,8,Ne),Be]))])}const We=k(se,[["render",Ve],["__scopeId","data-v-3da691b0"]]),Fe="/static/images/icons/lms/play_blue.svg";f.extend(G);const Oe={name:"PurchasedTraining",props:["account_id","userId","training"],components:{BaseButton:E},data(){return{statusMap:{"Not Started":"Enrolled",Incomplete:"In progress"},trainingTypeClass:{eLearning:"eLearning","Instructor Led":"instructorLed"},windowWidth:window.innerWidth}},computed:{isPrerec(){return this.training.plan_type==="Instructor Led"&&this.training.training_type==="Pre-recorded course"},isILT(){return this.training.plan_type==="Instructor Led"},expiryDays(){return this.isPrerec?this.training.expiry_days:-1}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.windowWidth=window.innerWidth},formatToLocalDate(e){return console.log(f.utc(`${e.booked_time_slot.slot_start_time}`).local().format("ddd MMM DD , YYYY")),e?f.utc(`${e.booked_time_slot.slot_start_time}`).local().format("ddd MMM DD , YYYY"):""},formatPurchaseDate(e){if(console.log(e),e){const a=[e[0],e[1]-1,e[2]];return console.log(f(a).format("D MMM YYYY")),f(a).format("D MMM YYYY")}return""},getImageUrl(e){let a="";return e.plan_type==="Instructor Led"?a=e.blob_course_icon_url:a=e.status_icon_path,a?`https://opusjavaprodstorage.blob.core.windows.net${a}`:null},getTimeSlotFromTraining(e){return e.booked_time_slot?e.booked_time_slot.slot_start_time:e.upcoming?e.upcoming.slot_start_time:"More dates coming soon"},getTrainingType(e){return e.plan_type?e.plan_type:e.training_type==="Course"?"eLearning":e.training_type==="Certificate"?"Certificate":"Course"},playTraining(e){e.deep_link&&window.open(e.deep_link)},viewElearning(e){this.$emit("setElearning",e)},viewIlt(e,a){const s=this.training.title.replace(/ /g,"-").toLowerCase();localStorage.setItem("scheduleTrainingId",JSON.stringify(e)),localStorage.setItem("schedulePlanId",JSON.stringify(e)),this.$router.push({path:`/trainings/schedule-training/${s}`,query:{planId:a}})}}},y=e=>(D("data-v-b82bcc10"),e=e(),C(),e),Re={class:"training-container justify-content-between col-xs-12 p-10"},ze={class:"col-xs-12 col-sm-12 col-md-5 p-0 d-flex align-items-center name-container"},Ue=["src"],qe={class:"text-primary fw-300 mb-5"},He={class:"text-primary font-bold mb-5"},je={class:"text-light-black mb-5"},Je={class:"font-14 fw-300 d-flex align-items-center col-gap-30"},Ge={key:0,class:"d-flex align-items-center white-space"},Ke=y(()=>t("img",{class:"preview-svg",src:Y,alt:""},null,-1)),Qe={key:1,class:"d-flex align-items-center white-space"},Xe=y(()=>t("img",{class:"preview-svg",src:O,alt:""},null,-1)),Ze={class:"d-flex align-items-center white-space"},$e=y(()=>t("img",{class:"preview-svg",src:R,alt:""},null,-1)),ts={class:"font-14 fw-300"},es={key:2,class:"font-14 fw-300 d-flex align-items-center white-space"},ss=y(()=>t("img",{class:"preview-svg",src:N,alt:""},null,-1)),is={key:0,class:"p-0 d-flex justify-content-start status-container mr-20"},as={key:0,class:"text-primary"},ns={key:0,class:"d-flex flex-direction-column"},rs={class:"text-primary fw-300 mb-5"},os={class:"text-primary font-bold mb-5"},ls={class:"text-light-black mb-5"},cs={key:0,class:"d-flex full-width"},ds=y(()=>t("img",{class:"preview-svg",src:Y,alt:""},null,-1)),us={key:1,class:"d-flex full-width"},_s=y(()=>t("img",{class:"preview-svg",src:O,alt:""},null,-1)),ms={class:"d-flex full-width white-space"},gs=y(()=>t("img",{class:"preview-svg",src:R,alt:""},null,-1)),hs={class:"font-14 fw-300"},ps={key:2,class:"font-14 fw-300 d-flex align-items-center time-container"},fs=y(()=>t("img",{class:"preview-svg",src:N,alt:""},null,-1)),ys={class:"d-flex status-container"},vs={key:0,class:"text-primary"},ws={key:1},xs={key:0,class:"pr-15 pb-15 xs-hide-content-650"},Ls={class:"text-regular-large"},bs={key:1,class:"pr-15 pb-15 xs-hide-content-650"},Is={class:"text-regular-large orange-bg2 expiry-box"},ks={key:2,class:"pr-15 pb-15 xs-hide-content-650"},Ds={class:"text-regular-large red-bg1 expiry-box white-1"},Cs={class:"training-detail-actions"},Ts={class:"d-flex expiry-card"},As={key:0,class:"p-0 d-flex justify-content-start status-container mr-20"},Ss={key:0,class:"white-space"},Ps={key:0,class:"pr-15 pb-15 xs-hide-content-650"},Ms={class:"text-regular-large"},Es={key:1,class:"pr-15 pb-15 xs-hide-content-650"},Ys={class:"text-regular-large orange-bg2 expiry-box"},Ns={key:2,class:"pr-15 pb-15 xs-hide-content-650"},Bs={class:"text-regular-large red-bg1 expiry-box white-1"},Vs={key:3,class:"pr-15 pb-15 xs-hide-content-650"},Ws={class:"text-regular-large red-bg1 expiry-box white-1"},Fs={class:"d-flex"},Os={class:"d-flex align-items-end justify-content-end details--container pr-10"},Rs={key:0},zs={key:1},Us={class:"p-0 align-items-center justify-content-end play-btn--container"},qs={class:"col-xs-12 col-sm-12 col-md-12"},Hs=["src"],js={key:1},Js=y(()=>t("img",{class:"play-icon",src:Fe},null,-1)),Gs=y(()=>t("img",{class:"play-icon",src:dt},null,-1));function Ks(e,a,s,m,i,o){const p=d("BaseButton");return n(),r("div",Re,[t("div",{class:u(["training--contents-container d-flex align-items-center",i.windowWidth<=850?"col-gap-30":""])},[t("div",ze,[t("img",{class:u(["training-img",i.trainingTypeClass[s.training.plan_type]]),src:o.getImageUrl(s.training),alt:""},null,10,Ue),i.windowWidth>850?(n(),r("div",{key:0,class:u([i.trainingTypeClass[s.training.plan_type],"d-flex col-xs-12 col-sm-12 flex-direction-column training-title"])},[t("div",qe,l(o.isPrerec?s.training.training_type:s.training.plan_type),1),t("div",He,[t("span",null,l(s.training.title),1)]),t("div",je,[t("div",Je,[o.isILT&&!o.isPrerec?(n(),r("div",Ge,[Ke,t("span",null,l(s.training.training_location),1)])):o.isPrerec?c("",!0):(n(),r("div",Qe,[Xe,t("span",null,l(s.training.course_count||1)+" "+l(s.training.course_count>1?"courses":"course"),1)])),t("div",Ze,[$e,t("span",ts,l(o.isILT?`${s.training.duration_hours} Hours`:`${s.training.duration_minutes} Minutes`),1)]),o.isILT&&!o.isPrerec?(n(),r("div",es,[ss,L(" "+l(o.getTimeSlotFromTraining(s.training)|o.formatToLocalDate),1)])):c("",!0)])])],2)):c("",!0),t("div",null,[i.windowWidth>850?(n(),r("div",is,[!o.isILT&&s.training.deep_link?(n(),r("span",as,l(i.statusMap[s.training.course_status]||s.training.course_status),1)):c("",!0)])):c("",!0)])]),i.windowWidth<=850?(n(),r("div",ns,[t("div",{class:u([i.trainingTypeClass[s.training.plan_type],"d-flex training-title-xs pl-0 flex-direction-column"])},[t("div",rs,l(o.isPrerec?s.training.training_type:s.training.plan_type),1),t("div",os,[t("span",null,l(s.training.title),1)]),t("div",ls,[t("div",{class:u(["font-14 fw-300 d-flex col-gap-30 align-items-center ilt-purchased-details",i.windowWidth<460?"flex-direction-column":""])},[o.isILT&&!o.isPrerec?(n(),r("div",cs,[ds,t("span",null,l(s.training.training_location),1)])):o.isPrerec?c("",!0):(n(),r("div",us,[_s,t("span",null,l(s.training.course_count||1)+" "+l(s.training.course_count>1?"courses":"course"),1)])),t("div",ms,[gs,t("span",hs,l(o.isILT?`${s.training.duration_hours} Hours`:`${s.training.duration_minutes} Minutes`),1)]),o.isILT&&!o.isPrerec?(n(),r("div",ps,[fs,L(" "+l(o.getTimeSlotFromTraining(s.training)|o.formatToLocalDate),1)])):c("",!0)],2)])],2),t("div",ys,[!o.isILT&&s.training.deep_link?(n(),r("span",vs,l(i.statusMap[s.training.course_status]||s.training.course_status),1)):c("",!0),o.isPrerec?(n(),r("span",ws,[o.expiryDays>90?(n(),r("div",xs,[t("p",Ls," Expires: "+l(o.expiryDays),1)])):o.expiryDays<=90||o.expiryDays>10?(n(),r("div",bs,[t("p",Is," Expires: "+l(o.expiryDays)+" days ",1)])):(n(),r("div",ks,[t("p",Ds," Expires: "+l(o.expiryDays)+" days ",1)]))])):c("",!0)])])):c("",!0)],2),t("template",null,[t("div",Cs,[t("div",Ts,[i.windowWidth>850?(n(),r("div",As,[o.isPrerec||s.training.training_type!=="Instructor Led"?(n(),r("span",Ss,[s.training.expiry_days>90?(n(),r("div",Ps,[t("p",Ms," Expires: "+l(o.formatPurchaseDate(s.training.expiry_date)),1)])):s.training.expiry_days<=90&&s.training.expiry_days>10?(n(),r("div",Es,[t("p",Ys," Expires: "+l(s.training.expiry_days)+" days ",1)])):s.training.expiry_days<=10&&s.training.expiry_days>1?(n(),r("div",Ns,[t("p",Bs," Expires: "+l(s.training.expiry_days)+" days ",1)])):s.training.expiry_days==1?(n(),r("div",Vs,[t("p",Ws,"Expires: "+l(s.training.expiry_days)+" day",1)])):c("",!0)])):c("",!0)])):c("",!0),t("div",{class:u(["white-space w-120",{"pb-50":s.training.training_type==="Instructor Led","pb-20":s.training.training_type!="Instructor Led","mb-30":s.training.training_type==="Certificate"}])},l(o.formatPurchaseDate(s.training.purchase_date)),3)]),t("div",Fs,[t("div",Os,[o.isILT||o.isPrerec?(n(),r("div",Rs,[t("span",{onClick:a[0]||(a[0]=h=>o.viewIlt(s.training.course_id,s.training.plan_id)),class:"text-button-label blue-3 cursor-pointer"},"View Details")])):(n(),r("div",zs,[t("span",{onClick:a[1]||(a[1]=h=>o.viewElearning(s.training)),class:"text-button-label blue-3 cursor-pointer"},"View Details")]))]),t("div",Us,[t("div",qs,[s.training.deep_link?(n(),r("div",{key:0,class:u([[s.training.course_status==="Incomplete"?"continue-button":"bg-emergo-green text-white"],"d-flex align-items-center col-gap-10 pr-15 pl-15 pt-5 cursor-pointer play-button font-18"]),onClick:a[2]||(a[2]=h=>o.playTraining(s.training))},[t("img",{class:"play-icon",src:s.training.course_status==="Incomplete"?"/static/images/icons/lms/play_blue.svg":"/static/images/icons/play.svg"},null,8,Hs),t("span",null,l(s.training.course_status==="Incomplete"?"Continue":"Play course"),1)],2)):c("",!0),s.training.deep_link_text?(n(),r("div",js,[s.training.course_status==="Incomplete"?(n(),V(p,{key:0,variant:"secondary","has-icon":"",onClick:a[3]||(a[3]=h=>o.playTraining(s.training))},{default:S(()=>[Js,L(" Continue ")]),_:1})):(n(),V(p,{key:1,variant:"primary","has-icon":"",onClick:a[4]||(a[4]=h=>o.playTraining(s.training))},{default:S(()=>[Gs,L(" Play course ")]),_:1}))])):c("",!0)])])])])])])}const Qs=k(Oe,[["render",Ks],["__scopeId","data-v-b82bcc10"]]),Xs={props:["trainingDetails","userId","accountId"],data(){return{displayData:null,paramId:""}},components:{BaseButton:E},watch:{trainingDetails:{handler(){this.trainingDetails&&(this.displayData=this.trainingDetails)},immediate:!0}},filters:{getPurchaseStatus(e){switch(e){case"yes":return"Included In Trial";default:return"Price"}},formatPurchaseDate(e){if(e){const a=[e[0],e[1]-1,e[2]];return ut(a).format("D MMM YYYY")}return""}},methods:{openCourseOrCertificate(e){window.open(e,"_blank")},reset(){M("#modal_video").modal("hide")}}},Zs=e=>(D("data-v-da2c8c1e"),e=e(),C(),e),$s={id:"view-eLearning-modal",class:"modal",role:"dialog"},ti={class:"modal-dialog modal-lg request-modal"},ei={key:0,class:"modal-content col-xs-12 p-20"},si=Zs(()=>t("div",{class:"modal-header"},[t("div",{class:"col-xs-12 p-0 text-start header d-flex align-items-center col-gap-26"},[t("img",{src:_t,class:"lms-training-icon"}),t("span",null,"Training")])],-1)),ii={class:"modal-body col-xs-12 text-start"},ai={class:"col-xs-12 p-0 training-type mb-5"},ni={class:"col-xs-8 p-0"},ri={class:"col-xs-12 p-0 training-title mb-5"},oi={class:"col-xs-11 p-0 font-14 mb-10"},li={class:"text-secondary pr-15 validity-text fw-700 font-14"},ci={key:0,class:"col-xs-4 p-0"},di={class:"col-xs-12 course-contents p-0"},ui={class:"col-xs-12 p-0 mt-10"},_i={key:1,class:"col-xs-12 p-0 mt-15"},mi={class:"col-xs-12 p-0 mt-15"},gi={class:"col-xs-12 p-0 pt-10"},hi={key:0},pi={key:1},fi={class:"col-xs-12 pr-0 purchase-info-main mt-10"},yi={class:"d-flex justify-content-between"},vi={class:"d-flex"},wi={class:"purchase-info p-0 font-18 font-bold pr-10"},xi={key:0,class:"pl-15 pb-15"},Li={class:"text-regular-large orange-bg2 expiry-box"},bi={key:1,class:"pl-15 pb-15"},Ii={class:"text-regular-large"},ki={key:2,class:"pl-15 pb-15"},Di={class:"text-regular-large orange-bg2 expiry-box"},Ci={key:3,class:"pl-15 pb-15"},Ti={class:"text-regular-large red-bg1 expiry-box white-1"},Ai={key:4,class:"pr-15 pb-15"},Si={class:"text-regular-large red-bg1 expiry-box white-1"},Pi={class:"col-xs-2 font-18 font-bold text-right p-0 pr-10"},Mi={class:"footer col-xs-12 flex-wrapper align-items-center xs-flex-column col-gap-20 p-0"},Ei=["src"];function Yi(e,a,s,m,i,o){const p=d("BaseButton");return n(),r("div",null,[t("div",$s,[t("div",ti,[i.displayData?(n(),r("div",ei,[si,t("div",ii,[t("div",ai,l(i.displayData.training_type),1),t("div",ni,[t("div",ri,l(i.displayData.title),1),t("div",oi,l(i.displayData.description),1),t("div",li," Validity - "+l(i.displayData.validity_months)+" days access ",1)]),i.displayData.training_type!=="Consulting"?(n(),r("div",ci,[t("div",di,l(i.displayData.training_type==="Certificate"?"Courses":"Contents"),1),t("div",ui,[t("ul",null,[(n(!0),r(I,null,P(i.displayData.content_list,(h,v)=>(n(),r("li",{class:"font-14",key:v},l(h),1))),128))])])])):c("",!0),i.displayData.training_type!=="Consulting"?(n(),r("div",_i,[t("div",mi,l(i.displayData.course_count)+" "+l(i.displayData.course_count>1?"courses":"course"),1),t("div",gi,[i.displayData.training_type==="Certificate"?(n(),r("div",hi,l(i.displayData.duration_minutes/60)+" hours ",1)):(n(),r("div",pi,l(i.displayData.duration_minutes)+" minutes",1))]),t("div",fi,[t("div",yi,[t("div",vi,[t("div",wi,l(i.displayData.included|e.getPurchaseStatus),1),i.displayData.previous_purchase_date?(n(),r("div",xi,[t("p",Li," Previously purchased: "+l(i.displayData.previous_purchase_date|e.formatPurchaseDate),1)])):c("",!0),i.displayData.expiry_days>90?(n(),r("div",bi,[t("p",Ii," Expires: "+l(i.displayData.expiry_date|e.formatPurchaseDate),1)])):i.displayData.expiry_days<=90&&i.displayData.expiry_days>10?(n(),r("div",ki,[t("p",Di," Expires: "+l(i.displayData.expiry_days)+" days ",1)])):i.displayData.expiry_days<=10&&i.displayData.expiry_days>1?(n(),r("div",Ci,[t("p",Ti," Expires: "+l(i.displayData.expiry_days)+" days ",1)])):i.displayData.expiry_days==1?(n(),r("div",Ai,[t("p",Si,"Expires: "+l(i.displayData.expiry_days)+" day",1)])):c("",!0)]),t("div",Pi," $"+l(i.displayData.price),1)])])])):c("",!0)]),t("div",Mi,[_(p,{"data-dismiss":"modal",variant:"secondary"},{default:S(()=>[L(" Cancel ")]),_:1}),i.displayData.enrolled&&i.displayData.training_type==="Course"?(n(),r(I,{key:0},[i.displayData.deep_link?(n(),r("div",{key:0,class:u([[i.displayData.course_status==="Incomplete"?"continue-button":"bg-emergo-green text-white"],"d-flex align-items-center col-gap-10 pr-15 pl-15 pt-5 cursor-pointer play-button"]),onClick:a[0]||(a[0]=h=>o.openCourseOrCertificate(i.displayData.deep_link))},[t("img",{class:"play-icon",src:i.displayData.course_status==="Incomplete"?"/static/images/icons/lms/play_blue.svg":"/static/images/icons/play.svg"},null,8,Ei),t("span",null,l(i.displayData.course_status==="Incomplete"?"Continue":"Play course"),1)],2)):c("",!0)],64)):c("",!0)])])):c("",!0)])])])}const Ni=k(Xs,[["render",Yi],["__scopeId","data-v-da2c8c1e"]]),Bi={name:"PurchasedTrainings",components:{PurchasedTraining:Qs,viewLearning:Ni,OpusSelect:F},props:{account_id:{type:[String,Number],default:""},userId:{type:[String,Number],default:""},eLearning:{type:Array,default:()=>[]},ilt:{type:Array,default:()=>[]}},data(){return{activeCourseTab:"View all",trainingDetails:null,courseTabs:{eLearning:"eLearnings","Instructor Led":"Instructor Led Courses"},courseTabCount:{"View all":0,eLearning:0,"Instructor Led":0},windowWidth:window.innerWidth,activeCourseList:[],sortingType:"name",orderBy:{name:"asc",status:"asc"},trainingTypes:[{id:0,name:"View all",no_of_documents:0,sequence:0},{id:1,name:"eLearning",no_of_documents:0,sequence:1},{id:2,name:"Instructor Led",no_of_documents:0,sequence:2}],trainingData:{available:{id:0,name:"View all",no_of_documents:0,sequence:0}},trainingsData:{available:[]}}},mounted(){this.setActiveCourseList(),this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},watch:{"trainingData.available.name":{handler(){this.setActiveCourseList()},immediate:!0},eLearning(){this.setActiveCourseList()},ilt(){this.setActiveCourseList()}},methods:{onResize(){this.windowWidth=window.innerWidth},setElearningDetails(e){this.trainingDetails=e,M("#view-eLearning-modal").modal("show")},setTab(e){this.activeCourseTab=e},setSorting(e){this.sortingType=e||"name",this.orderBy[this.sortingType]=this.orderBy[this.sortingType]==="asc"?"desc":"asc",this.setActiveCourseList()},setActiveCourseList(){this.courseTabCount.eLearning=this.eLearning.length,this.courseTabCount["Instructor Led"]=this.ilt.length,this.courseTabCount["View all"]=this.courseTabCount.eLearning+this.courseTabCount["Instructor Led"];let e=[];switch(this.trainingData.available.name){case"View all":e=[...this.eLearning,...this.ilt];break;case"eLearning":e=this.eLearning;break;case"Instructor Led":e=this.ilt;break;default:e=[];break}e=JSON.parse(JSON.stringify(e)),e.sort((a,s)=>this.sortList(a,s)),this.activeCourseList=e,this.trainingsData.available=this.trainingTypes,this.trainingTypes.forEach(a=>{a.no_of_documents=this.courseTabCount[a.name]}),this.trainingData.available.no_of_documents=e.length},sortList(e,a){if(this.sortingType==="name")return e.title.toLowerCase()===a.title.toLowerCase()?0:this.orderBy.name==="asc"?e.title.toLowerCase()>a.title.toLowerCase()?1:-1:e.title.toLowerCase()>a.title.toLowerCase()?-1:1;if(this.sortingType==="date"){if(this.orderBy.date==="desc"){let i=new Date(a.purchase_date[0],a.purchase_date[1],a.purchase_date[2])-new Date(e.purchase_date[0],e.purchase_date[1],e.purchase_date[2]);return i===0&&(i=e.title.trim().localeCompare(a.title.trim())),i}let m=new Date(e.purchase_date[0],e.purchase_date[1],e.purchase_date[2])-new Date(a.purchase_date[0],a.purchase_date[1],a.purchase_date[2]);return m===0&&(m=a.title.trim().localeCompare(e.title.trim())),m}const s={"Not Enrolled":0,Enrolled:1,"Not Started":2,Incomplete:3,Complete:4,"":5};return s[e.course_status]===s[a.course_status]?0:this.orderBy.status==="asc"?s[e.course_status]>s[a.course_status]?1:-1:s[e.course_status]<s[a.course_status]?1:-1},navigateToMarketPlace(){this.$router.push("/market-place")},customLabel(e){return`${e.name} (${e.no_of_documents})`}}},b=e=>(D("data-v-b91da19d"),e=e(),C(),e),Vi={class:"purchased-trainings"},Wi=b(()=>t("div",null,[t("h3",{class:"font-32"},"Purchased")],-1)),Fi={class:"purchased-tiles--container pl-10"},Oi={key:0,class:"col-xs-12 d-flex mb-20 mt-10 dashed-border"},Ri=b(()=>t("span",{class:"text-primary cursor-pointer pr-10 sort-label"}," Name ",-1)),zi=["src"],Ui=b(()=>t("span",{class:"text-primary cursor-pointer pr-10 sort-label"}," Status ",-1)),qi=["src"],Hi=b(()=>t("span",{class:"text-primary cursor-pointer pr-10"},"Purchased date",-1)),ji=["src"],Ji={key:1,class:"col-xs-12 p-0"},Gi={key:2,class:"col-xs-12 d-flex col-gap-20 align-items-center mt-20"},Ki=b(()=>t("img",{src:mt,alt:""},null,-1)),Qi=b(()=>t("div",{class:"not-purchased no-data-color"}," Start building your library! ",-1)),Xi={class:"mt-5"},Zi=b(()=>t("span",{class:"no-data-color"},"Check out offered courses below or within ",-1)),$i=b(()=>t("span",{class:"no-data-color"}," to purchase more courses",-1));function ta(e,a,s,m,i,o){const p=d("opus-select"),h=d("purchased-training"),v=d("view-learning");return n(),r("div",Vi,[t("div",{class:u(["d-flex justify-content-between align-items-center dropdown--container",i.windowWidth<=767?"align-items-start flex-direction-column col-30-gap":""])},[Wi,_(p,{style:{width:"327px"},modelValue:i.trainingData.available,"onUpdate:modelValue":a[0]||(a[0]=g=>i.trainingData.available=g),options:i.trainingsData.available,trackBy:"id","custom-label":o.customLabel},null,8,["modelValue","options","custom-label"])],2),t("div",Fi,[i.activeCourseList.length>0&&i.windowWidth>850?(n(),r("div",Oi,[t("div",{class:"col-xs-5 xs-flex-column p-0 d-flex align-items-center pl-15",onClick:a[1]||(a[1]=g=>o.setSorting("name"))},[Ri,t("img",{class:u([{desc:i.orderBy.name==="desc"},"sorting-icon cursor-pointer"]),src:i.sortingType==="name"?"/static/images/icons/caret_up.svg":"/static/images/icons/caret_up_light.svg",alt:""},null,10,zi)]),t("div",{class:"col-xs-5 xs-flex-column d-flex align-items-center",onClick:a[2]||(a[2]=g=>o.setSorting("status"))},[i.trainingData.available.name!=="instructorLed"?(n(),r(I,{key:0},[Ui,t("img",{class:u([{desc:i.orderBy.status==="desc"},"sorting-icon cursor-pointer"]),src:i.sortingType==="status"?"/static/images/icons/caret_up.svg":"/static/images/icons/caret_up_light.svg",alt:""},null,10,qi)],64)):c("",!0)]),t("div",{class:"col-xs-2 p-0 xs-flex-column align-items-center date--filter align-right mr-10",onClick:a[3]||(a[3]=g=>o.setSorting("date"))},[Hi,i.activeCourseList.length>1?(n(),r("img",{key:0,class:u([{desc:i.orderBy.date==="desc"},"sorting-icon cursor-pointer"]),src:i.sortingType==="date"?"/static/images/icons/caret_up.svg":"/static/images/icons/caret_up_light.svg",alt:""},null,10,ji)):c("",!0)])])):c("",!0),i.activeCourseList.length?(n(),r("div",Ji,[(n(!0),r(I,null,P(i.activeCourseList,g=>(n(),r("div",{key:g.plan_id,class:"col-xs-12 p-0 purchased-training-wrapper"},[_(h,{training:g,userId:s.userId,account_id:s.account_id,onSetElearning:o.setElearningDetails},null,8,["training","userId","account_id","onSetElearning"])]))),128))])):c("",!0),i.activeCourseList.length?c("",!0):(n(),r("div",Gi,[Ki,t("div",null,[Qi,t("div",Xi,[Zi,t("a",{class:"cursor-pointer",onClick:a[4]||(a[4]=K((...g)=>o.navigateToMarketPlace&&o.navigateToMarketPlace(...g),["prevent"]))},"Marketplace"),$i])])])),_(v,{trainingDetails:i.trainingDetails,userId:s.userId},null,8,["trainingDetails","userId"])])])}const ea=k(Bi,[["render",ta],["__scopeId","data-v-b91da19d"]]),sa={props:{userId:{type:[Number,String],required:!0}},mixins:[ft],data(){return{tabs:{eLearning:"eLearning","Instructor Led":"Instructor Led Courses"},windowWidth:window.innerWidth,trainingTypes:[{id:0,name:"View all",no_of_documents:0,sequence:0},{id:1,name:"eLearning",no_of_documents:0,sequence:1},{id:2,name:"Instructor Led",no_of_documents:0,sequence:2}],trainingData:{available:{id:0,name:"View all",no_of_documents:0,sequence:0}},trainingsData:{available:[]},trainingsInfo:{},selectedListItems:[],selectedTraining:{},videoInfo:{},loaderStatus:!1,cartInfo:{},operations:{type:"select",listView:!0,courseDetails:null,timeSlotsList:null},tabCount:{all:0,eLearning:0,"Instructor Led":0},activeTabName:"all",sortingType:"name",orderBy:{name:"asc",type:"asc"}}},components:{AddRemoveCartPopup:ht,Loader:W,InfoModal:ot,PreviewModal:lt,TrainingDetails:ct,TrainingSignUpModal:gt,OpusSelect:F},async created(){await this.getList()},watch:{"trainingData.available.name":{handler(){this.setListForSelectedTab()}}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.windowWidth=window.innerWidth},async getList(){this.trainingsInfo=await pt(2,this.userId);const e=this.trainingsInfo.item_list.map(a=>{const s=a.plan_type;return a[s].cart_status&&a[s].cart_status.purchase_status==="REMOVE_FROM_CART"&&(a[s].cart_status.purchase_status="GO_TO_CART"),a});this.filteredList=e,this.loaderStatus=!0,this.setListForSelectedTab(),this.setCountForTabs(),this.loaderStatus=!1,this.trainingsData.available=this.trainingTypes},showTimeSlots(e){this.operations={...this.operations,courseDetails:e[e.plan_type]},M("#training-signup-modal").modal({backdrop:"static",keyboard:!1})},setListForSelectedTab(){this.trainingData.available.name==="View all"?this.selectedListItems=this.trainingsInfo.item_list||[]:this.selectedListItems=this.trainingsInfo.item_list.filter(e=>this.trainingData.available.name==="eLearning"?["eLearning","Consulting"].includes(e.plan_type):e.plan_type===this.trainingData.available.name),this.sortItems()},setCountForTabs(){const e=Object.keys(this.tabs).reduce((a,s)=>(a[s]=this.trainingsInfo.item_list.filter(m=>s==="eLearning"?["eLearning","Consulting"].includes(m.plan_type):m.plan_type===s).length,a),{});this.tabCount={"View all":this.trainingsInfo.item_list.length,...e},this.trainingTypes.forEach(a=>{a.no_of_documents=this.tabCount[a.name]}),this.trainingData.available.no_of_documents=this.trainingsInfo.item_list.length},navigateToMarketPlace(){this.$router.push("/market-place")},setSorting(e){this.sortingType=e||"name",this.orderBy[this.sortingType]=this.orderBy[this.sortingType]==="asc"?"desc":"asc",this.sortItems()},sortItems(){const e=JSON.parse(JSON.stringify(this.selectedListItems));e.sort((a,s)=>this.sortList(a,s)),this.selectedListItems=e},sortList(e,a){return this.sortingType==="name"?this.orderBy.name==="asc"?e.plan_name.toLowerCase()>a.plan_name.toLowerCase()?1:-1:e.plan_name.toLowerCase()>a.plan_name.toLowerCase()?-1:1:this.orderBy.type==="asc"?e.plan_type.toLowerCase()>a.plan_type.toLowerCase()?1:-1:e.plan_type.toLowerCase()>a.plan_type.toLowerCase()?-1:1},customLabel(e){return`${e.name} (${e.no_of_documents})`}}},B=e=>(D("data-v-66533920"),e=e(),C(),e),ia={class:"row mr-0"},aa=B(()=>t("div",{class:"p-0 d-flex align-items-center"},[t("span",{class:"font-32"},"Marketplace")],-1)),na={class:"col-xs-12 marketplace-training--container"},ra=B(()=>t("div",{class:"col-xs-12 pl-20 mb-15"},null,-1)),oa={key:0,class:"col-xs-12 d-flex dashed-border ml-0 mb-20 mt-10 pl-0"},la=B(()=>t("span",{class:"text-primary cursor-pointer pr-10"}," Name ",-1)),ca={key:1,class:"col-xs-12 mt-20 mb-20"},da=Q('<div class="col-xs-12 col-sm-10 col-md-8 d-flex col-gap-10 align-items-start" data-v-66533920><img src="'+vt+'" alt="" data-v-66533920><div class="col-xs-12 d-flex flex-direction-column row-gap-10" data-v-66533920><span class="fw-400 purchased-text" data-v-66533920>You currently have full access to all available resources</span><span class="fw-300 font-18" data-v-66533920>We will notify you of any new resources as they become available for purchase</span></div></div>',1),ua=[da];function _a(e,a,s,m,i,o){const p=d("opus-select"),h=d("training-details"),v=d("loader"),g=d("preview-modal"),A=d("info-modal"),U=d("add-remove-cart-popup"),q=d("training-sign-up-modal");return n(),r("div",ia,[t("div",{class:u(["mr-0 menu__container xs-flex-column d-flex align-items-center justify-content-between mb-10",i.windowWidth<=767?"align-items-start flex-direction-column row-gap-20":""])},[aa,_(p,{style:{width:"327px"},modelValue:i.trainingData.available,"onUpdate:modelValue":a[0]||(a[0]=w=>i.trainingData.available=w),options:i.trainingsData.available,trackBy:"id","custom-label":o.customLabel},null,8,["modelValue","options","custom-label"])],2),t("div",na,[ra,i.selectedListItems.length?(n(),r(I,{key:0},[i.selectedListItems.length>1&&i.windowWidth>767?(n(),r("div",oa,[t("div",{class:"col-xs-6 p-0 xs-flex-column d-flex align-items-center pl-15",onClick:a[1]||(a[1]=w=>o.setSorting("name"))},[la,t("img",{class:u([{desc:i.orderBy.name==="desc"},"sorting-icon cursor-pointer"]),src:yt,alt:""},null,2)])])):c("",!0),(n(!0),r(I,null,P(i.selectedListItems,(w,H)=>(n(),r("div",{class:"col-xs-12 marketplace-training--tab p-0",key:H},[_(h,{userId:s.userId,trainingDetails:w,onSetSelectedTrainingItem:e.setSelectedTrainingItem,onOnShowTimeSlots:o.showTimeSlots,onSetCartInfo:a[2]||(a[2]=j=>e.setCartInfo(j,"trainings"))},null,8,["userId","trainingDetails","onSetSelectedTrainingItem","onOnShowTimeSlots"])]))),128))],64)):c("",!0),!i.selectedListItems.length&&!i.loaderStatus?(n(),r("div",ca,ua)):c("",!0)]),_(v,{loadingStatus:i.loaderStatus},null,8,["loadingStatus"]),_(g,{trainingInfo:i.videoInfo},null,8,["trainingInfo"]),_(A,{loader:i.loaderStatus,trainingInfo:i.selectedTraining,userId:s.userId,onSetCartInfo:a[3]||(a[3]=w=>e.setCartInfo(w,"trainings"))},null,8,["loader","trainingInfo","userId"]),_(U,{onCloseAddRemoveCart:e.closeAddRemoveCart,cartInfo:i.cartInfo,onRemoveFromCart:a[4]||(a[4]=w=>e.removeFromCart("trainings"))},null,8,["onCloseAddRemoveCart","cartInfo"]),_(q,{onSetCartInfo:a[5]||(a[5]=w=>e.setCartInfo(w,"trainings")),operations:i.operations,userId:s.userId},null,8,["operations","userId"])])}const ma=k(sa,[["render",_a],["__scopeId","data-v-66533920"]]),ga="/static/images/icons/trainings_heading.svg",ha={props:["account_id","userId"],data(){return{loaderStatus:!1,selectedLatesActivity:"",selectedViewAllList:[],selectedCardType:"",iltProgress:{},eLearningProgress:{},iltLatestActivity:null,eLearningLatesActivity:null,windowWidth:window.innerWidth,purchasedELearnings:[],ilts:{purchased:[],available:[]},certificateDetails:{},samlResponseHtml:"",samlUrl:""}},components:{TrainingProgress:We,PurchasedTrainings:ea,ViewAllProgressVertical:ee,MarketplaceTrainings:ma,Loader:W},watch:{$route(){this.callSaml()}},async mounted(){await this.getAllTrainigsData(),await this.callSaml(),this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.windowWidth=window.innerWidth},async callSaml(){if(this.$route.query.reference==="lms"){const e=await it();this.samlUrl=e.acs_link,this.$refs.refcode.value=e.saml_response,this.$nextTick(async()=>{this.$refs.samlpost.click()})}},viewAllProgress(e){this.selectedCardType=e,e==="eLearning"?(this.selectedViewAllList=this.eLearningProgress.all_course_progress,this.selectedLatesActivity=this.eLearningLatesActivity):(this.selectedViewAllList=this.iltProgress.all_course_progress,this.selectedLatesActivity=this.iltLatestActivity),M("#view-all-progress-vertical").modal({backdrop:"static",keyboard:!1})},async getAllTrainigsData(){this.loaderStatus=!0,await Promise.all([this.getELearnings(),this.getiltLatestActivity()]),this.loaderStatus=!1},async getELearnings(){const e=await at();this.eLearningProgress=e.lms_course_progress,this.eLearningLatesActivity=this.eLearningProgress.latest_activity,this.purchasedELearnings=e.lms_user_course_list.filter(a=>a.course_status!=="Not Enrolled")},async getiltLatestActivity(){const[e,a]=await Promise.all([nt(this.userId),rt()]),s=[...e.online_ilt,...e.pre_recorded_il_t];this.ilts.purchased=s.filter(m=>m.enrolled),this.ilts.available=s.filter(m=>!m.enrolled),this.iltProgress=a,this.iltLatestActivity=a.latest_activity}}},z=e=>(D("data-v-bb2f56a3"),e=e(),C(),e),pa={class:"content-wrappper training-main",ref:"dummy"},fa=["action"],ya={ref:"refcode",type:"hidden",name:"SAMLResponse"},va={ref:"samlpost",type:"submit",value:"Continue"},wa={class:"col-xs-12 mt-20 mb-20"},xa=z(()=>t("div",{class:"col-xs-12 pl-10 catalog-header fw-300"},"Your Trainings",-1)),La={class:"col-xs-12 pl-0 d-flex flex-wrap"},ba=z(()=>t("div",{class:"col-xs-12 col-sm-7 col-md-7 pl-0"},[t("div",{class:"col-xs-12 mt-15 fw-300 text-light-black catalog-description"}," The training catalog includes self-paced eLearning courses and live, online instructor-led courses. "),t("div",{class:"col-xs-12 mt-20 fw-300 text-light-black catalog-description"}," The eLearning courses provide a strong foundation on all key HFE topics. The instructor-led courses are intended to take someone who is already familiar with HFE methods to the next level. "),t("div",{class:"col-xs-12 mt-20 fw-300 text-light-black catalog-description"}," Our instructors are experienced HFE consultants who have practiced what they teach. Instructors include individuals who have also written an acclaimed book on the topic and taught at universities. ")],-1)),Ia={class:"col-xs-12 col-sm-5 col-md-5 pl-0 d-flex align-items-center justify-content-center"},ka={key:0,src:ga},Da={class:"col-xs-12 col-md-12 mt-30 pl-10 mb-20"},Ca={class:"col-xs-12 col-md-12 mt-30 purchased-trainings--container"},Ta={class:"col-xs-12 col-md-12 mt-50 pl-5"};function Aa(e,a,s,m,i,o){const p=d("training-progress"),h=d("purchased-trainings"),v=d("marketplace-trainings"),g=d("view-all-progress-vertical"),A=d("loader");return n(),r("div",pa,[t("template",null,[X(t("div",null,[t("form",{ref:"form-header",method:"POST",action:i.samlUrl},[t("div",null,[t("input",ya,null,512)]),t("noscript",null,[t("div",null,[t("input",va,null,512)])])],8,fa)],512),[[Z,!1]])]),t("div",wa,[xa,t("div",La,[ba,t("div",Ia,[i.windowWidth>767?(n(),r("img",ka)):c("",!0)])]),t("div",Da,[_(p,{eLearningLatesActivity:i.eLearningLatesActivity,iltLatestActivity:i.iltLatestActivity,userId:s.userId,onViewAllProgress:o.viewAllProgress},null,8,["eLearningLatesActivity","iltLatestActivity","userId","onViewAllProgress"])]),t("div",Ca,[_(h,{eLearning:i.purchasedELearnings,ilt:i.ilts.purchased,userId:s.userId,account_id:s.account_id},null,8,["eLearning","ilt","userId","account_id"])]),t("div",Ta,[_(v,{userId:s.userId},null,8,["userId"])])]),_(g,{viewAllProgressList:i.selectedViewAllList,selectedCardType:i.selectedCardType,latestActivity:i.selectedLatesActivity},null,8,["viewAllProgressList","selectedCardType","latestActivity"]),_(A,{loadingStatus:i.loaderStatus},null,8,["loadingStatus"])],512)}const un=k(ha,[["render",Aa],["__scopeId","data-v-bb2f56a3"]]);export{un as default};
