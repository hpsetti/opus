import{_ as g,B as y,$ as h,o as c,c as i,a as r,b as f,w as b,t as n,k as u,r as p,g as o}from"./index-BlMJxPGQ.js";import{_ as C}from"./danger_close_icon-CkTgh2bE.js";const v="/static/images/icons/upload_blue.svg",S={name:"OpusImageSelect",components:{BaseButton:y},props:{id:{type:String,required:!0},validTypes:{type:String,default:".png, .jpg, .jpeg"},disabled:{type:Boolean,default:!1},errorTxtProp:{type:String,default:"Please select a valid image i.e. png/jpeg only"},file:{type:Object,default:null},btnText:{type:String,default:"Upload"}},data(){return{selectedFile:null}},methods:{selectImage(){h(`#${this.id}`).click()},setSelectedFile(){if(!this.$refs[this.id].files.length)return;const[a]=this.$refs[this.id].files;this.validateFileType(a),this.errorTxt?this.$emit("select",null):this.$emit("select",a)},validateFileType(a){const e=a.name.split(".").pop().toLowerCase();this.selectedFile=a,this.validTypes.includes(e)?this.errorTxt="":this.errorTxt=this.errorTxtProp},reset(){this.$refs[this.id].value=null,this.selectedFile=null,this.errorTxt=""},clearFile(){this.$emit("select",null),this.reset()}}},k=["accept","id"],_={class:"d-flex align-items-center col-gap-15"},w=r("img",{src:v,class:"preview-svg"},null,-1),T={key:0,class:"text-regular-small ml-30"},x={class:"text-regular-small ml-30"},F={key:0,class:"red-1 pb-10"};function E(a,e,t,B,l,s){const m=p("BaseButton");return c(),i("div",null,[r("input",{onChange:e[0]||(e[0]=(...d)=>s.setSelectedFile&&s.setSelectedFile(...d)),type:"file",accept:t.validTypes,ref:t.id,id:t.id,style:{display:"none"},class:"form-control common-input"},null,40,k),r("div",_,[f(m,{"has-icon":"",variant:"secondary",onClick:s.selectImage,disabled:t.disabled},{default:b(()=>[w,r("span",null,n(t.btnText),1)]),_:1},8,["onClick","disabled"]),!l.selectedFile||a.errorTxt?(c(),i("span",T,n(t.file?t.file.name:""),1)):u("",!0),r("span",x,n(l.selectedFile&&!a.errorTxt?l.selectedFile.name:"No file selected"),1),l.selectedFile&&!a.errorTxt?(c(),i("img",{key:1,onClick:e[1]||(e[1]=(...d)=>s.clearFile&&s.clearFile(...d)),class:"cursor-pointer",src:C})):u("",!0)]),l.selectedFile&&a.errorTxt?(c(),i("div",F,n(a.errorTxt),1)):u("",!0)])}const R=g(S,[["render",E]]);async function I(a){let e;return await o.post("https://backend.opus.emergobyul.com/services/admin/drlCategory",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("CreateCategory Error",t)}),e}async function U(a){let e;return await o.put("https://backend.opus.emergobyul.com/services/admin/drlCategory",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("UpdateCategory Error",t)}),e}async function j(a){let e;return await o.delete(`https://backend.opus.emergobyul.com/services/admin/drlCategory/${a}`).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("ClearCategory Error",t)}),e}async function A(){let a;return await o.get("https://backend.opus.emergobyul.com/services/admin/drlCategory").then(e=>{e.status===200&&e.data&&(a=e.data.data)}).catch(e=>{console.log("Get AllCategory Error",e)}),a}async function G(a){let e;return await o.get(`https://backend.opus.emergobyul.com/services/admin/drlSubCategoryById/${a}`).then(t=>{t.status===200&&t.data&&(e=t.data.data)}).catch(t=>{console.log("Get SubCategoryById Error",t)}),e}async function N(a){let e;return await o.post("https://backend.opus.emergobyul.com/services/admin/drlSubCategory",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("CreateSubCategory Error",t)}),e}async function O(a){let e;return await o.put("https://backend.opus.emergobyul.com/services/admin/drlSubCategory",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("UpdateSubCategory Error",t)}),e}async function P(a){let e;return await o.delete(`https://backend.opus.emergobyul.com/services/admin/drlSubCategory/${a}`).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("ClearSubCategory Error",t)}),e}async function V(){let a;return await o.get("https://backend.opus.emergobyul.com/services/admin/drlSubCategory").then(e=>{e.status===200&&e.data&&(a=e.data.data)}).catch(e=>{console.log("Get AllSubCategory Error",e)}),a}async function q(a){let e;return await o.post("https://backend.opus.emergobyul.com/services/admin/drlRecommendationPage",a).then(t=>{t.status===200&&t.data&&(e=t.data.data)}).catch(t=>{console.log("Get getRecommendations Error",t)}),e}async function L(a){let e;return await o.post("https://backend.opus.emergobyul.com/services/admin/drlRecommendation",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("addRecommendation Error",t)}),e}async function z(a){let e;return await o.delete(`https://backend.opus.emergobyul.com/services/admin/drlRecommendation/${a}`).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("deleteRecommendations Error",t)}),e}async function H(a){let e;return await o.put("https://backend.opus.emergobyul.com/services/admin/drlRecommendation",a).then(t=>{t.status===200&&t.data&&(e=t.data)}).catch(t=>{console.log("updateRecommendation Error",t)}),e}async function J(){let a;return await o.get("https://backend.opus.emergobyul.com/services/admin/documents/types").then(e=>{e.status===200&&e.data&&(a=e.data.data)}).catch(e=>{console.log("Get AllSubCategory Error",e)}),a}export{j as D,R as O,U,V as a,A as b,G as c,q as d,z as e,I as f,J as g,N as h,O as i,P as j,L as k,H as u};
