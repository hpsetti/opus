import{ak as De,z as an,a$ as on,_ as ln,r as sn,o as gt,c as vt,b as dn,k as un,a as cn}from"./index-BlMJxPGQ.js";var bt={exports:{}};(function(ce,Se){(function(se,Ce){ce.exports=Ce()})(De,function(){function se(c,r){if(typeof document>"u")return r;c=c||"";var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=c:o.appendChild(document.createTextNode(c)),n.appendChild(o),r}var Ce=function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,n){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),d=o.length>>>0;if(d===0)return!1;for(var f=n|0,h=Math.max(f>=0?f:d-Math.abs(f),0);h<d;){if(o[h]===r)return!0;h++}return!1}}),Text.prototype.contains||(Text.prototype.contains=function(r){return this===r})},Le=`<div> <button type="button" @click="$parent.execCommand('justifyLeft')"> {{$parent.locale["left justify"]}} </button> <button type="button" @click="$parent.execCommand('justifyCenter')"> {{$parent.locale["center justify"]}} </button> <button type="button" @click="$parent.execCommand('justifyRight')"> {{$parent.locale["right justify"]}} </button> </div>`,Ee={template:Le},Re={name:"align",icon:"fa fa-align-center",i18n:"align",dashboard:Ee},yt=`<div> <div> <label> <input type="radio" value="foreColor" v-model="command">&nbsp; {{$parent.locale["fore color"]}} </label> <label> <input type="radio" value="backColor" v-model="command">&nbsp; {{$parent.locale["background color"]}} </label> </div> <div> <div v-for="color in colors" :style="{'background-color':color}" class="color-card" @click="changeColor(color)"> </div> <div style="clear: both"></div> </div> </div> `;se(".vue-html5-editor .color-card{margin:2px;width:30px;height:30px;float:left;cursor:pointer}",void 0);var wt={template:yt,data:function(){return{command:"foreColor",colors:["#000000","#000033","#000066","#000099","#003300","#003333","#003366","#003399","#006600","#006633","#009900","#330000","#330033","#330066","#333300","#333366","#660000","#660033","#663300","#666600","#666633","#666666","#666699","#990000","#990033","#9900CC","#996600","#FFCC00","#FFCCCC","#FFCC99","#FFFF00","#FF9900","#CCFFCC","#CCFFFF","#CCFF99"]}},methods:{changeColor:function(r){this.$parent.execCommand(this.command,r)}}},St={name:"color",icon:"fa fa-paint-brush",i18n:"color",dashboard:wt},Ct={name:"eraser",icon:"fa fa-eraser",i18n:"eraser",handler:function(r){r.execCommand("removeFormat")}},Et='<div class="dashboard-font" style="line-height: 36px"> <div> <label>{{$parent.locale["heading"]}}:</label> <button v-for="h in 6" type="button" @click="setHeading(h)">H{{h}}</button> </div> <div> <label> {{$parent.locale["font name"]}}: </label> <button v-for="name in nameList" type="button" @click="setFontName(name)">{{name}}</button> </div> <div> <label> {{$parent.locale["font size"]}}: </label> <button v-for="size in fontSizeList" type="button" @click="setFontSize(size)">{{size}}</button> </div> <div> <label> {{$parent.locale["line height"]}}: </label> <button v-for="lh in lineHeightList" type="button" @click="setLineHeight(lh)"> {{lh}} </button> </div> </div>',ae={JUSTIFY_LEFT:"justifyLeft",JUSTIFY_CENTER:"justifyCenter",JUSTIFY_RIGHT:"justifyRight",FORE_COLOR:"foreColor",BACK_COLOR:"backColor",REMOVE_FORMAT:"removeFormat",FONT_NAME:"fontName",FONT_SIZE:"fontSize",FORMAT_BLOCK:"formatBlock",LINE_HEIGHT:"lineHeight",INSERT_HORIZONTAL_RULE:"insertHorizontalRule",INSERT_IMAGE:"insertImage",CREATE_LINK:"createLink",INSERT_ORDERED_LIST:"insertOrderedList",INSERT_UNORDERED_LIST:"insertUnorderedList",INSERT_HTML:"insertHTML",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKE_THROUGH:"strikeThrough",SUBSCRIPT:"subscript",SUPERSCRIPT:"superscript",UNDO:"undo",UNLINK:"unlink"},Tt={template:Et,data:function(){return{nameList:["Microsoft YaHei","Helvetica Neue","Helvetica","Arial","sans-serif","Verdana","Georgia","Times New Roman","Trebuchet MS","Microsoft JhengHei","Courier New","Impact","Comic Sans MS","Consolas"],lineHeightList:["1.0","1.2","1.5","1.8","2.0","2.5","3.0"],fontSizeList:["12px","14px","16px","18px","20px","22px","24px"]}},methods:{setFontName:function(r){this.$parent.execCommand("fontName",r)},setFontSize:function(r){this.$parent.execCommand("fontSize",r)},setHeading:function(r){this.$parent.execCommand("formatBlock","h"+r)},setLineHeight:function(r){this.$parent.execCommand(ae.LINE_HEIGHT,r)}},created:function(){var r=this.$options.module.config;r&&Array.isArray(r.fontNames)&&(this.nameList=r.fontNames)}},xt={name:"font",icon:"fa fa-font",i18n:"font",dashboard:Tt},It={name:"full-screen",icon:"fa fa-arrows-alt",i18n:"full screen",handler:function(r){r.toggleFullScreen()}},Nt={name:"hr",icon:"fa fa-minus",i18n:"hr",handler:function(r){r.execCommand("insertHorizontalRule")}},kt=typeof window<"u"?window:typeof De<"u"?De:typeof self<"u"?self:{};function Lt(c,r){return r={exports:{}},c(r,r.exports),r.exports}var Rt=Lt(function(c,r){(function(n,o){if(typeof r=="object"&&typeof c=="object")c.exports=o();else{var d=o();for(var f in d)(typeof r=="object"?r:n)[f]=d[f]}})(kt,function(){return function(n){function o(f){if(d[f])return d[f].exports;var h=d[f]={exports:{},id:f,loaded:!1};return n[f].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}var d={};return o.m=n,o.c=d,o.p="",o(0)}([function(n,o,d){d(6),d(7),n.exports=d(8)},function(n,o,d){(function(f){(function(h){function w(l,p){return function(){l.apply(p,arguments)}}function x(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(l,w(b,this),w(I,this))}function k(l){var p=this;return this._state===null?void this._deferreds.push(l):void m(function(){var y=p._state?l.onFulfilled:l.onRejected;if(y===null)return void(p._state?l.resolve:l.reject)(p._value);var R;try{R=y(p._value)}catch(L){return void l.reject(L)}l.resolve(R)})}function b(l){try{if(l===this)throw new TypeError("A promise cannot be resolved with itself.");if(l&&(typeof l=="object"||typeof l=="function")){var p=l.then;if(typeof p=="function")return void a(w(p,l),w(b,this),w(I,this))}this._state=!0,this._value=l,t.call(this)}catch(y){I.call(this,y)}}function I(l){this._state=!1,this._value=l,t.call(this)}function t(){for(var l=this,p=0,y=this._deferreds.length;y>p;p++)k.call(l,l._deferreds[p]);this._deferreds=null}function e(l,p,y,R){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof p=="function"?p:null,this.resolve=y,this.reject=R}function a(l,p,y){var R=!1;try{l(function(L){R||(R=!0,p(L))},function(L){R||(R=!0,y(L))})}catch(L){if(R)return;R=!0,y(L)}}var m=typeof f=="function"&&f||function(l){setTimeout(l,1)},u=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};x.prototype.catch=function(l){return this.then(null,l)},x.prototype.then=function(l,p){var y=this;return new x(function(R,L){k.call(y,new e(l,p,R,L))})},x.all=function(){var l=Array.prototype.slice.call(arguments.length===1&&u(arguments[0])?arguments[0]:arguments);return new x(function(p,y){function R(O,X){try{if(X&&(typeof X=="object"||typeof X=="function")){var i=X.then;if(typeof i=="function")return void i.call(X,function(v){R(O,v)},y)}l[O]=X,--L===0&&p(l)}catch(v){y(v)}}if(l.length===0)return p([]);for(var L=l.length,U=0;U<l.length;U++)R(U,l[U])})},x.resolve=function(l){return l&&typeof l=="object"&&l.constructor===x?l:new x(function(p){p(l)})},x.reject=function(l){return new x(function(p,y){y(l)})},x.race=function(l){return new x(function(p,y){for(var R=0,L=l.length;L>R;R++)l[R].then(p,y)})},x._setImmediateFn=function(l){m=l},x.prototype.always=function(l){var p=this.constructor;return this.then(function(y){return p.resolve(l()).then(function(){return y})},function(y){return p.resolve(l()).then(function(){throw y})})},typeof n<"u"&&n.exports?n.exports=x:h.Promise||(h.Promise=x)})(this)}).call(o,d(2).setImmediate)},function(n,o,d){(function(f,h){function w(e,a){this._id=e,this._clearFn=a}var x=d(3).nextTick,k=Function.prototype.apply,b=Array.prototype.slice,I={},t=0;o.setTimeout=function(){return new w(k.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new w(k.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e.close()},w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(e,a){clearTimeout(e._idleTimeoutId),e._idleTimeout=a},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var a=e._idleTimeout;a>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},a))},o.setImmediate=typeof f=="function"?f:function(e){var a=t++,m=arguments.length<2?!1:b.call(arguments,1);return I[a]=!0,x(function(){I[a]&&(m?e.apply(null,m):e.call(null),o.clearImmediate(a))}),a},o.clearImmediate=typeof h=="function"?h:function(e){delete I[e]}}).call(o,d(2).setImmediate,d(2).clearImmediate)},function(n,o){function d(){I=!1,x.length?b=x.concat(b):t=-1,b.length&&f()}function f(){if(!I){var e=setTimeout(d);I=!0;for(var a=b.length;a;){for(x=b,b=[];++t<a;)x&&x[t].run();t=-1,a=b.length}x=null,I=!1,clearTimeout(e)}}function h(e,a){this.fun=e,this.array=a}function w(){}var x,k=n.exports={},b=[],I=!1,t=-1;k.nextTick=function(e){var a=arguments,m=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)m[u-1]=a[u];b.push(new h(e,m)),b.length!==1||I||setTimeout(f,0)},h.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=w,k.addListener=w,k.once=w,k.off=w,k.removeListener=w,k.removeAllListeners=w,k.emit=w,k.binding=function(e){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(e){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},function(n,o){function d(){var w=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return w&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var f=function(){try{return new Blob,!0}catch{return!1}}()?window.Blob:function(w,x){var k=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return w.forEach(function(b){k.append(b)}),k.getBlob(x?x.type:void 0)},h=function(){function w(){var k=this,b=[],I=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),t=XMLHttpRequest.prototype.send;this.getParts=function(){return b.toString()},this.append=function(e,a,m){b.push("--"+I+`\r
Content-Disposition: form-data; name="`+e+'"'),a instanceof Blob?(b.push('; filename="'+(m||"blob")+`"\r
Content-Type: `+a.type+`\r
\r
`),b.push(a)):b.push(`\r
\r
`+a),b.push(`\r
`)},x++,XMLHttpRequest.prototype.send=function(e){var a,m,u=this;e===k?(b.push("--"+I+`--\r
`),m=new f(b),a=new FileReader,a.onload=function(){t.call(u,a.result)},a.onerror=function(l){throw l},a.readAsArrayBuffer(m),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+I),x--,x==0&&(XMLHttpRequest.prototype.send=t)):t.call(this,e)}}var x=0;return w.prototype=Object.create(FormData.prototype),w}();n.exports={Blob:f,FormData:d()?h:FormData}},function(n,o,d){var f,h;(function(){function w(i){return!!i.exifdata}function x(i,v){v=v||i.match(/^data\:([^\;]+)\;base64,/im)[1]||"",i=i.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var S=atob(i),N=S.length,g=new ArrayBuffer(N),T=new Uint8Array(g),C=0;N>C;C++)T[C]=S.charCodeAt(C);return g}function k(i,v){var S=new XMLHttpRequest;S.open("GET",i,!0),S.responseType="blob",S.onload=function(N){(this.status==200||this.status===0)&&v(this.response)},S.send()}function b(i,v){function S(C){var A=I(C),E=t(C);i.exifdata=A||{},i.iptcdata=E||{},v&&v.call(i)}if(i.src)if(/^data\:/i.test(i.src)){var N=x(i.src);S(N)}else if(/^blob\:/i.test(i.src)){var g=new FileReader;g.onload=function(C){S(C.target.result)},k(i.src,function(C){g.readAsArrayBuffer(C)})}else{var T=new XMLHttpRequest;T.onload=function(){this.status==200||this.status===0?S(T.response):v(new Error("Could not load image")),T=null},T.open("GET",i.src,!0),T.responseType="arraybuffer",T.send(null)}else if(window.FileReader&&(i instanceof window.Blob||i instanceof window.File)){var g=new FileReader;g.onload=function(A){S(A.target.result)},g.readAsArrayBuffer(i)}}function I(i){var v=new DataView(i);if(v.getUint8(0)!=255||v.getUint8(1)!=216)return!1;for(var S,N=2,g=i.byteLength;g>N;){if(v.getUint8(N)!=255)return!1;if(S=v.getUint8(N+1),S==225)return l(v,N+4,v.getUint16(N+2)-2);N+=2+v.getUint16(N+2)}}function t(i){var v=new DataView(i);if(v.getUint8(0)!=255||v.getUint8(1)!=216)return!1;for(var S=2,N=i.byteLength,g=function(E,P){return E.getUint8(P)===56&&E.getUint8(P+1)===66&&E.getUint8(P+2)===73&&E.getUint8(P+3)===77&&E.getUint8(P+4)===4&&E.getUint8(P+5)===4};N>S;){if(g(v,S)){var T=v.getUint8(S+7);T%2!==0&&(T+=1),T===0&&(T=4);var C=S+8+T,A=v.getUint16(S+6+T);return e(i,C,A)}S++}}function e(i,v,S){for(var N,g,T,C,A,E=new DataView(i),P={},V=v;v+S>V;)E.getUint8(V)===28&&E.getUint8(V+1)===2&&(C=E.getUint8(V+2),C in X&&(T=E.getInt16(V+3),A=T+5,g=X[C],N=u(E,V+5,T),P.hasOwnProperty(g)?P[g]instanceof Array?P[g].push(N):P[g]=[P[g],N]:P[g]=N)),V++;return P}function a(i,v,S,N,g){var T,C,A,E=i.getUint16(S,!g),P={};for(A=0;E>A;A++)T=S+12*A+2,C=N[i.getUint16(T,!g)],!C&&p&&console.log("Unknown tag: "+i.getUint16(T,!g)),P[C]=m(i,T,v,S,g);return P}function m(i,v,S,N,g){var T,C,A,E,P,V,xe=i.getUint16(v+2,!g),G=i.getUint32(v+4,!g),q=i.getUint32(v+8,!g)+S;switch(xe){case 1:case 7:if(G==1)return i.getUint8(v+8,!g);for(T=G>4?q:v+8,C=[],E=0;G>E;E++)C[E]=i.getUint8(T+E);return C;case 2:return T=G>4?q:v+8,u(i,T,G-1);case 3:if(G==1)return i.getUint16(v+8,!g);for(T=G>2?q:v+8,C=[],E=0;G>E;E++)C[E]=i.getUint16(T+2*E,!g);return C;case 4:if(G==1)return i.getUint32(v+8,!g);for(C=[],E=0;G>E;E++)C[E]=i.getUint32(q+4*E,!g);return C;case 5:if(G==1)return P=i.getUint32(q,!g),V=i.getUint32(q+4,!g),A=new Number(P/V),A.numerator=P,A.denominator=V,A;for(C=[],E=0;G>E;E++)P=i.getUint32(q+8*E,!g),V=i.getUint32(q+4+8*E,!g),C[E]=new Number(P/V),C[E].numerator=P,C[E].denominator=V;return C;case 9:if(G==1)return i.getInt32(v+8,!g);for(C=[],E=0;G>E;E++)C[E]=i.getInt32(q+4*E,!g);return C;case 10:if(G==1)return i.getInt32(q,!g)/i.getInt32(q+4,!g);for(C=[],E=0;G>E;E++)C[E]=i.getInt32(q+8*E,!g)/i.getInt32(q+4+8*E,!g);return C}}function u(i,v,S){var N,g="";for(N=v;v+S>N;N++)g+=String.fromCharCode(i.getUint8(N));return g}function l(i,v){if(u(i,v,4)!="Exif")return!1;var S,N,g,T,C,A=v+6;if(i.getUint16(A)==18761)S=!1;else{if(i.getUint16(A)!=19789)return!1;S=!0}if(i.getUint16(A+2,!S)!=42)return!1;var E=i.getUint32(A+4,!S);if(8>E)return!1;if(N=a(i,A,A+E,L,S),N.ExifIFDPointer){T=a(i,A,A+N.ExifIFDPointer,R,S);for(g in T){switch(g){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":T[g]=O[g][T[g]];break;case"ExifVersion":case"FlashpixVersion":T[g]=String.fromCharCode(T[g][0],T[g][1],T[g][2],T[g][3]);break;case"ComponentsConfiguration":T[g]=O.Components[T[g][0]]+O.Components[T[g][1]]+O.Components[T[g][2]]+O.Components[T[g][3]]}N[g]=T[g]}}if(N.GPSInfoIFDPointer){C=a(i,A,A+N.GPSInfoIFDPointer,U,S);for(g in C){switch(g){case"GPSVersionID":C[g]=C[g][0]+"."+C[g][1]+"."+C[g][2]+"."+C[g][3]}N[g]=C[g]}}return N}var p=!1,y=function(i){return i instanceof y?i:this instanceof y?void(this.EXIFwrapped=i):new y(i)};typeof n<"u"&&n.exports&&(o=n.exports=y),o.EXIF=y;var R=y.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},L=y.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},U=y.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},O=y.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},X={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};y.getData=function(i,v){return(i instanceof Image||i instanceof HTMLImageElement)&&!i.complete?!1:(w(i)?v&&v.call(i):b(i,v),!0)},y.getTag=function(i,v){return w(i)?i.exifdata[v]:void 0},y.getAllTags=function(i){if(!w(i))return{};var v,S=i.exifdata,N={};for(v in S)S.hasOwnProperty(v)&&(N[v]=S[v]);return N},y.pretty=function(i){if(!w(i))return"";var v,S=i.exifdata,N="";for(v in S)S.hasOwnProperty(v)&&(N+=typeof S[v]=="object"?S[v]instanceof Number?v+" : "+S[v]+" ["+S[v].numerator+"/"+S[v].denominator+`]\r
`:v+" : ["+S[v].length+` values]\r
`:v+" : "+S[v]+`\r
`);return N},y.readFromBinaryFile=function(i){return I(i)},f=[],h=(function(){return y}).apply(o,f),h!==void 0&&(n.exports=h)}).call(this)},function(n,o,d){var f,h;(function(){function w(e){var a=e.naturalWidth,m=e.naturalHeight;if(a*m>1048576){var u=document.createElement("canvas");u.width=u.height=1;var l=u.getContext("2d");return l.drawImage(e,-a+1,0),l.getImageData(0,0,1,1).data[3]===0}return!1}function x(e,a,m){var u=document.createElement("canvas");u.width=1,u.height=m;var l=u.getContext("2d");l.drawImage(e,0,0);for(var p=l.getImageData(0,0,1,m).data,y=0,R=m,L=m;L>y;){var U=p[4*(L-1)+3];U===0?R=L:y=L,L=R+y>>1}var O=L/m;return O===0?1:O}function k(e,a,m){var u=document.createElement("canvas");return b(e,u,a,m),u.toDataURL("image/jpeg",a.quality||.8)}function b(e,a,m,u){var l=e.naturalWidth,p=e.naturalHeight,y=m.width,R=m.height,L=a.getContext("2d");L.save(),I(a,L,y,R,m.orientation);var U=w(e);U&&(l/=2,p/=2);var O=1024,X=document.createElement("canvas");X.width=X.height=O;for(var i=X.getContext("2d"),v=u?x(e,l,p):1,S=Math.ceil(O*y/l),N=Math.ceil(O*R/p/v),g=0,T=0;p>g;){for(var C=0,A=0;l>C;)i.clearRect(0,0,O,O),i.drawImage(e,-C,-g),L.drawImage(X,0,0,O,O,A,T,S,N),C+=O,A+=S;g+=O,T+=N}L.restore(),X=i=null}function I(e,a,m,u,l){switch(l){case 5:case 6:case 7:case 8:e.width=u,e.height=m;break;default:e.width=m,e.height=u}switch(l){case 2:a.translate(m,0),a.scale(-1,1);break;case 3:a.translate(m,u),a.rotate(Math.PI);break;case 4:a.translate(0,u),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-u);break;case 7:a.rotate(.5*Math.PI),a.translate(m,-u),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-m,0)}}function t(e){if(window.Blob&&e instanceof Blob){var a=new Image,m=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!m)throw Error("No createObjectURL function found to create blob url");a.src=m.createObjectURL(e),this.blob=e,e=a}if(!e.naturalWidth&&!e.naturalHeight){var u=this;e.onload=function(){var l=u.imageLoadListeners;if(l){u.imageLoadListeners=null;for(var p=0,y=l.length;y>p;p++)l[p]()}},this.imageLoadListeners=[]}this.srcImage=e}t.prototype.render=function(e,a,m){if(this.imageLoadListeners){var u=this;return void this.imageLoadListeners.push(function(){u.render(e,a,m)})}a=a||{};var l=this.srcImage,p=l.src,y=p.length,R=l.naturalWidth,L=l.naturalHeight,U=a.width,O=a.height,X=a.maxWidth,i=a.maxHeight,v=this.blob&&this.blob.type==="image/jpeg"||p.indexOf("data:image/jpeg")===0||p.indexOf(".jpg")===y-4||p.indexOf(".jpeg")===y-5;U&&!O?O=L*U/R<<0:O&&!U?U=R*O/L<<0:(U=R,O=L),X&&U>X&&(U=X,O=L*U/R<<0),i&&O>i&&(O=i,U=R*O/L<<0);var S={width:U,height:O};for(var N in a)S[N]=a[N];var g=e.tagName.toLowerCase();g==="img"?e.src=k(this.srcImage,S,v):g==="canvas"&&b(this.srcImage,e,S,v),typeof this.onrender=="function"&&this.onrender(e),m&&m()},f=[],h=(function(){return t}).apply(o,f),h!==void 0&&(n.exports=h)})()},function(n,o){function d(f){function h(s){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_=0;64>_;_++){var D=g((M[_]*s+50)/100);1>D?D=1:D>255&&(D=255),T[be[_]]=D}for(var H=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],B=0;64>B;B++){var $=g((H[B]*s+50)/100);1>$?$=1:$>255&&($=255),C[be[B]]=$}for(var j=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],K=0,Y=0;8>Y;Y++)for(var z=0;8>z;z++)A[K]=1/(T[be[K]]*j[Y]*j[z]*8),E[K]=1/(C[be[K]]*j[Y]*j[z]*8),K++}function w(s,M){for(var _=0,D=0,H=new Array,B=1;16>=B;B++){for(var $=1;$<=s[B];$++)H[M[D]]=[],H[M[D]][0]=_,H[M[D]][1]=B,D++,_++;_*=2}return H}function x(){X=w(je,ze),i=w(qe,Ve),v=w(Ge,Xe),S=w(Ke,Ye)}function k(){for(var s=1,M=2,_=1;15>=_;_++){for(var D=s;M>D;D++)V[32767+D]=_,P[32767+D]=[],P[32767+D][1]=_,P[32767+D][0]=D;for(var H=-(M-1);-s>=H;H++)V[32767+H]=_,P[32767+H]=[],P[32767+H][1]=_,P[32767+H][0]=M-1+H;s<<=1,M<<=1}}function b(){for(var s=0;256>s;s++)W[s]=19595*s,W[s+256>>0]=38470*s,W[s+512>>0]=7471*s+32768,W[s+768>>0]=-11059*s,W[s+1024>>0]=-21709*s,W[s+1280>>0]=32768*s+8421375,W[s+1536>>0]=-27439*s,W[s+1792>>0]=-5329*s}function I(s){for(var M=s[0],_=s[1]-1;_>=0;)M&1<<_&&(he|=1<<ie),_--,ie--,0>ie&&(he==255?(t(255),t(0)):t(he),ie=7,he=0)}function t(s){q.push($e[s])}function e(s){t(s>>8&255),t(255&s)}function a(s,M){var _,D,H,B,$,j,K,Y,z,F=0,J=8,oe=64;for(z=0;J>z;++z){_=s[F],D=s[F+1],H=s[F+2],B=s[F+3],$=s[F+4],j=s[F+5],K=s[F+6],Y=s[F+7];var Q=_+Y,Z=_-Y,ee=D+K,pe=D-K,te=H+j,ne=H-j,de=B+$,ye=B-$,ue=Q+de,me=Q-de,le=ee+te,ge=ee-te;s[F]=ue+le,s[F+4]=ue-le;var We=.707106781*(ge+me);s[F+2]=me+We,s[F+6]=me-We,ue=ye+ne,le=ne+pe,ge=pe+Z;var Qe=.382683433*(ue-ge),Je=.5411961*ue+Qe,Ze=1.306562965*ge+Qe,et=.707106781*le,tt=Z+et,nt=Z-et;s[F+5]=nt+Je,s[F+3]=nt-Je,s[F+1]=tt+Ze,s[F+7]=tt-Ze,F+=8}for(F=0,z=0;J>z;++z){_=s[F],D=s[F+8],H=s[F+16],B=s[F+24],$=s[F+32],j=s[F+40],K=s[F+48],Y=s[F+56];var rt=_+Y,Me=_-Y,at=D+K,ot=D-K,it=H+j,lt=H-j,st=B+$,rn=B-$,we=rt+st,_e=rt-st,Ie=at+it,Ne=at-it;s[F]=we+Ie,s[F+32]=we-Ie;var dt=.707106781*(Ne+_e);s[F+16]=_e+dt,s[F+48]=_e-dt,we=rn+lt,Ie=lt+ot,Ne=ot+Me;var ut=.382683433*(we-Ne),ct=.5411961*we+ut,ft=1.306562965*Ne+ut,ht=.707106781*Ie,pt=Me+ht,mt=Me-ht;s[F+40]=mt+ct,s[F+24]=mt-ct,s[F+8]=pt+ft,s[F+56]=pt-ft,F++}var ke;for(z=0;oe>z;++z)ke=s[z]*M[z],xe[z]=ke>0?ke+.5|0:ke-.5|0;return xe}function m(){e(65504),e(16),t(74),t(70),t(73),t(70),t(0),t(1),t(1),t(0),e(1),e(1),t(0),t(0)}function u(s,M){e(65472),e(17),t(8),e(M),e(s),t(3),t(1),t(17),t(0),t(2),t(17),t(1),t(3),t(17),t(1)}function l(){e(65499),e(132),t(0);for(var s=0;64>s;s++)t(T[s]);t(1);for(var M=0;64>M;M++)t(C[M])}function p(){e(65476),e(418),t(0);for(var s=0;16>s;s++)t(je[s+1]);for(var M=0;11>=M;M++)t(ze[M]);t(16);for(var _=0;16>_;_++)t(Ge[_+1]);for(var D=0;161>=D;D++)t(Xe[D]);t(1);for(var H=0;16>H;H++)t(qe[H+1]);for(var B=0;11>=B;B++)t(Ve[B]);t(17);for(var $=0;16>$;$++)t(Ke[$+1]);for(var j=0;161>=j;j++)t(Ye[j])}function y(){e(65498),e(12),t(3),t(1),t(0),t(2),t(17),t(3),t(17),t(0),t(63),t(0)}function R(s,M,_,D,H){for(var B,$=H[0],j=H[240],K=16,Y=63,z=64,F=a(s,M),J=0;z>J;++J)G[be[J]]=F[J];var oe=G[0]-_;_=G[0],oe==0?I(D[0]):(B=32767+oe,I(D[V[B]]),I(P[B]));for(var Q=63;Q>0&&G[Q]==0;Q--);if(Q==0)return I($),_;for(var Z,ee=1;Q>=ee;){for(var pe=ee;G[ee]==0&&Q>=ee;++ee);var te=ee-pe;if(te>=K){Z=te>>4;for(var ne=1;Z>=ne;++ne)I(j);te=15&te}B=32767+G[ee],I(H[(te<<4)+V[B]]),I(P[B]),ee++}return Q!=Y&&I($),_}function L(){for(var s=String.fromCharCode,M=0;256>M;M++)$e[M]=s(M)}function U(s){if(0>=s&&(s=1),s>100&&(s=100),N!=s){var M=0;M=50>s?Math.floor(5e3/s):Math.floor(200-2*s),h(M),N=s}}function O(){var s=new Date().getTime();f||(f=50),L(),x(),k(),b(),U(f),new Date().getTime()-s}var X,i,v,S,N,g=Math.floor,T=new Array(64),C=new Array(64),A=new Array(64),E=new Array(64),P=new Array(65535),V=new Array(65535),xe=new Array(64),G=new Array(64),q=[],he=0,ie=7,Pe=new Array(64),He=new Array(64),Be=new Array(64),$e=new Array(256),W=new Array(2048),be=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],je=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ze=[0,1,2,3,4,5,6,7,8,9,10,11],Ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Xe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],qe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ve=[0,1,2,3,4,5,6,7,8,9,10,11],Ke=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(s,M,_){var D=new Date().getTime();M&&U(M),q=new Array,he=0,ie=7,e(65496),m(),l(),u(s.width,s.height),p(),y();var H=0,B=0,$=0;he=0,ie=7,this.encode.displayName="_encode_";for(var j,K,Y,z,F,J,oe,Q,Z,ee=s.data,pe=s.width,te=s.height,ne=4*pe,de=0;te>de;){for(j=0;ne>j;){for(F=ne*de+j,J=F,oe=-1,Q=0,Z=0;64>Z;Z++)Q=Z>>3,oe=4*(7&Z),J=F+Q*ne+oe,de+Q>=te&&(J-=ne*(de+1+Q-te)),j+oe>=ne&&(J-=j+oe-ne+4),K=ee[J++],Y=ee[J++],z=ee[J++],Pe[Z]=(W[K]+W[Y+256>>0]+W[z+512>>0]>>16)-128,He[Z]=(W[K+768>>0]+W[Y+1024>>0]+W[z+1280>>0]>>16)-128,Be[Z]=(W[K+1280>>0]+W[Y+1536>>0]+W[z+1792>>0]>>16)-128;H=R(Pe,A,H,X,v),B=R(He,E,B,i,S),$=R(Be,E,$,i,S),j+=32}de+=8}if(ie>=0){var ye=[];ye[1]=ie+1,ye[0]=(1<<ie+1)-1,I(ye)}if(e(65497),_){for(var ue=q.length,me=new Uint8Array(ue),le=0;ue>le;le++)me[le]=q[le].charCodeAt();return q=[],new Date().getTime()-D,me}var ge="data:image/jpeg;base64,"+btoa(q.join(""));return q=[],new Date().getTime()-D,ge},O()}n.exports=d},function(n,o,d){function f(t,e){var a=this;if(!t)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");e=e||{},a.defaults={width:null,height:null,fieldName:"file",quality:.7},a.file=t;for(var m in e)e.hasOwnProperty(m)&&(a.defaults[m]=e[m]);return this.init()}function h(t){var e=null;return e=t?[].filter.call(document.scripts,function(a){return a.src.indexOf(t)!==-1})[0]:document.scripts[document.scripts.length-1],e?e.src.substr(0,e.src.lastIndexOf("/")):null}function w(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var a=t.split(",")[0].split(":")[1].split(";")[0],m=new Uint8Array(e.length),u=0;u<e.length;u++)m[u]=e.charCodeAt(u);return new k.Blob([m.buffer],{type:a})}d.p=h("lrz")+"/",window.URL=window.URL||window.webkitURL;var x=d(1),k=d(4),b=d(5),I=function(t){var e=/OS (\d)_.* like Mac OS X/g.exec(t),a=/Android (\d.*?);/g.exec(t)||/Android\/(\d.*?) /g.exec(t);return{oldIOS:e?+e.pop()<8:!1,oldAndroid:a?+a.pop().substr(0,3)<4.5:!1,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(t),android:/Android/g.test(t),mQQBrowser:/MQQBrowser/g.test(t)}}(navigator.userAgent);f.prototype.init=function(){var t=this,e=t.file,a=typeof e=="string",m=/^data:/.test(e),u=new Image,l=document.createElement("canvas"),p=a?e:URL.createObjectURL(e);if(t.img=u,t.blob=p,t.canvas=l,a?t.fileName=m?"base64.jpg":e.split("/").pop():t.fileName=e.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new x(function(y,R){u.onerror=function(){var L=new Error("加载图片文件失败");throw R(L),L},u.onload=function(){t._getBase64().then(function(L){if(L.length<10){var U=new Error("生成base64失败");throw R(U),U}return L}).then(function(L){var U=null;typeof t.file=="object"&&L.length>t.file.size?(U=new FormData,e=t.file):(U=new k.FormData,e=w(L)),U.append(t.defaults.fieldName,e,t.fileName.replace(/\..+/g,".jpg")),y({formData:U,fileLen:+e.size,base64:L,base64Len:L.length,origin:t.file,file:e});for(var O in t)t.hasOwnProperty(O)&&(t[O]=null);URL.revokeObjectURL(t.blob)})},!m&&(u.crossOrigin="*"),u.src=p})},f.prototype._getBase64=function(){var t=this,e=t.img,a=t.file,m=t.canvas;return new x(function(u){try{b.getData(typeof a=="object"?a:e,function(){t.orientation=b.getTag(this,"Orientation"),t.resize=t._getResize(),t.ctx=m.getContext("2d"),m.width=t.resize.width,m.height=t.resize.height,t.ctx.fillStyle="#fff",t.ctx.fillRect(0,0,m.width,m.height),I.oldIOS?t._createBase64ForOldIOS().then(u):t._createBase64().then(u)})}catch(l){throw new Error(l)}})},f.prototype._createBase64ForOldIOS=function(){var t=this,e=t.img,a=t.canvas,m=t.defaults,u=t.orientation;return new x(function(l){(function(){var p=[d(6)];(function(y){var R=new y(e);"5678".indexOf(u)>-1?R.render(a,{width:a.height,height:a.width,orientation:u}):R.render(a,{width:a.width,height:a.height,orientation:u}),l(a.toDataURL("image/jpeg",m.quality))}).apply(null,p)})()})},f.prototype._createBase64=function(){var t=this,e=t.resize,a=t.img,m=t.canvas,u=t.ctx,l=t.defaults,p=t.orientation;switch(p){case 3:u.rotate(180*Math.PI/180),u.drawImage(a,-e.width,-e.height,e.width,e.height);break;case 6:u.rotate(90*Math.PI/180),u.drawImage(a,0,-e.width,e.height,e.width);break;case 8:u.rotate(270*Math.PI/180),u.drawImage(a,-e.height,0,e.height,e.width);break;case 2:u.translate(e.width,0),u.scale(-1,1),u.drawImage(a,0,0,e.width,e.height);break;case 4:u.translate(e.width,0),u.scale(-1,1),u.rotate(180*Math.PI/180),u.drawImage(a,-e.width,-e.height,e.width,e.height);break;case 5:u.translate(e.width,0),u.scale(-1,1),u.rotate(90*Math.PI/180),u.drawImage(a,0,-e.width,e.height,e.width);break;case 7:u.translate(e.width,0),u.scale(-1,1),u.rotate(270*Math.PI/180),u.drawImage(a,-e.height,0,e.height,e.width);break;default:u.drawImage(a,0,0,e.width,e.height)}return new x(function(y){I.oldAndroid||I.mQQBrowser||!navigator.userAgent?function(){var R=[d(7)];(function(L){var U=new L,O=u.getImageData(0,0,m.width,m.height);y(U.encode(O,100*l.quality))}).apply(null,R)}():y(m.toDataURL("image/jpeg",l.quality))})},f.prototype._getResize=function(){var t=this,e=t.img,a=t.defaults,m=a.width,u=a.height,l=t.orientation,p={width:e.width,height:e.height};if("5678".indexOf(l)>-1&&(p.width=e.height,p.height=e.width),p.width<m||p.height<u)return p;var y=p.width/p.height;for(m&&u?y>=m/u?p.width>m&&(p.width=m,p.height=Math.ceil(m/y)):p.height>u&&(p.height=u,p.width=Math.ceil(u*y)):m?m<p.width&&(p.width=m,p.height=Math.ceil(m/y)):u&&u<p.height&&(p.width=Math.ceil(u*y),p.height=u);p.width>=3264||p.height>=2448;)p.width*=.8,p.height*=.8;return p},window.lrz=function(t,e){return new f(t,e)},window.lrz.version="4.9.40",n.exports=window.lrz}])})}),Ft=`<div> <div v-show="upload.status=='ready'"> <input type="text" v-model="imageUrl" maxlength="255" :placeholder="$parent.locale['please enter a url']"> <button type="button" @click="insertImageUrl">{{$parent.locale.save}}</button> <input type="file" ref="file" style="display: none !important" @change="process" accept="image/png,image/jpeg,image/gif,image/jpg"> <button type="button" @click="pick">{{$parent.locale.upload}}</button> </div> <div v-if="upload.status=='progress'"> {{$parent.locale.progress}}:{{upload.progressComputable ? $parent.locale.unknown : upload.complete}} </div> <div v-if="upload.status=='success'"> {{$parent.locale["please wait"]}}... </div> <div v-if="upload.status=='error'"> {{$parent.locale.error}}:{{upload.errorMsg}} <button type="button" @click="reset">{{$parent.locale.reset}}</button> </div> <div v-if="upload.status=='abort'"> {{$parent.locale.upload}}&nbsp;{{$parent.locale.abort}}, <button type="button" @click="reset">{{$parent.locale.reset}}</button> </div> </div> `,Ot={template:Ft,data:function(){return{imageUrl:"",upload:{status:"ready",errorMsg:null,progressComputable:!1,complete:0}}},methods:{reset:function(){this.upload.status="ready"},insertImageUrl:function(){this.imageUrl&&(this.$parent.execCommand(ae.INSERT_IMAGE,this.imageUrl),this.imageUrl=null)},pick:function(){this.$refs.file.click()},setUploadError:function(r){this.upload.status="error",this.upload.errorMsg=r},process:function(){var r=this,n=this,o=this.$options.module.config;!o.upload&&typeof o.server=="string"&&(o.upload={url:o.server}),o.upload&&!o.upload.url&&(o.upload=null),o.upload&&typeof o.fieldName=="string"&&(o.upload.fieldName=o.fieldName),typeof o.compress=="boolean"&&(o.compress={width:o.width,height:o.height,quality:o.quality});var d=this.$refs.file.files[0];if(d.size>o.sizeLimit){this.setUploadError(this.$parent.locale["exceed size limit"]);return}if(this.$refs.file.value=null,o.compress){o.compress.fieldName=o.upload&&o.upload.fieldName?o.upload.fieldName:"image",Rt(d,o.compress).then(function(h){o.upload?n.uploadToServer(h.file):n.insertBase64(h.base64)}).catch(function(h){r.setUploadError(h.toString())});return}if(!o.upload){var f=new FileReader;f.onload=function(h){n.insertBase64(h.target.result)},f.readAsDataURL(d);return}n.uploadToServer(d)},insertBase64:function(r){this.$parent.execCommand(ae.INSERT_IMAGE,r)},uploadToServer:function(r){var n=this,o=this.$options.module.config,d=new FormData;d.append(o.upload.fieldName||"image",r),typeof o.upload.params=="object"&&Object.keys(o.upload.params).forEach(function(h){var w=o.upload.params[h];Array.isArray(w)?w.forEach(function(x){d.append(h,x)}):d.append(h,w)});var f=new XMLHttpRequest;f.onprogress=function(h){if(n.upload.status="progress",h.lengthComputable){n.upload.progressComputable=!0;var w=h.loaded/h.total;n.upload.complete=(w*100).toFixed(2)}else n.upload.progressComputable=!1},f.onload=function(){if(f.status>=300){n.setUploadError("request error,code "+f.status);return}try{var h=o.uploadHandler(f.responseText);h&&n.$parent.execCommand(ae.INSERT_IMAGE,h)}catch(w){n.setUploadError(w.toString())}finally{n.upload.status="ready"}},f.onerror=function(){n.setUploadError("request error")},f.onabort=function(){n.upload.status="abort"},f.open("POST",o.upload.url),typeof o.upload.headers=="object"&&Object.keys(o.upload.headers).forEach(function(h){f.setRequestHeader(h,o.upload.headers[h])}),f.send(d)}}},Mt={name:"image",icon:"fa fa-file-image-o",i18n:"image",config:{sizeLimit:512*1024,compress:{width:1600,height:1600,quality:80},uploadHandler:function(r){var n=JSON.parse(r);return n.ok?n.data:null}},dashboard:Ot},_t='<div> <h3 style="text-align: center">Vue-html5-editor&nbsp;{{version}}</h3> <p style="text-align: center"> repository: <a href="https://github.com/PeakTai/vue-html5-editor" target="_blank"> https://github.com/PeakTai/vue-html5-editor </a> </p> </div> ',Dt={template:_t,data:function(){return{version:"1.1.1"}}},Ut={name:"info",icon:"fa fa-info",i18n:"info",dashboard:Dt},At=`<form @submit.prevent="createLink"> <input type="text" :placeholder="$parent.locale['please enter a url']" v-model="url" maxlength="1024"> <button type="submit">{{$parent.locale["create link"]}}</button> </form>`,Pt={template:At,data:function(){return{url:null}},methods:{createLink:function(){this.url&&(this.$parent.execCommand("createLink",this.url),this.url=null)}}},Ht={name:"link",icon:"fa fa-chain",i18n:"link",dashboard:Pt},Bt=`<div> <button type="button" @click="$parent.execCommand('insertOrderedList')"> {{$parent.locale["ordered list"]}} </button> <button type="button" @click="$parent.execCommand('insertUnorderedList')"> {{$parent.locale["unordered list"]}} </button> </div>`,$t={template:Bt},jt={name:"list",icon:"fa fa-list",i18n:"list",dashboard:$t},zt='<form @submit.prevent="insertTable"> <label> {{$parent.locale["row count"]}} <input type="number" style="width: 60px" maxlength="2" min="2" max="10" v-model="rows"> </label> <label> {{$parent.locale["column count"]}} <input type="number" style="width: 60px" maxlength="2" min="2" max="10" v-model="cols"> </label> <button type="submit">{{$parent.locale.save}}</button> </form>',Gt={template:zt,data:function(){return{rows:2,cols:2,hasHead:!1,striped:!1,hover:!1}},methods:{insertTable:function(){if(!(this.rows<2||this.rows>10)&&!(this.cols<2||this.cols>10)){for(var r='<table style="border-spacing: 0px; border-collapse: collapse; width: 100%; max-width: 100%; margin-bottom: 0px; border: 1px solid rgb(221, 221, 221); color: rgb(51, 51, 51); font-size: 14px; line-height: 20px; background-color: transparent;"><tbody>',n=0;n<this.rows;n++){r+="<tr>";for(var o=0;o<this.cols;o++)r+='<td style="padding: 8px; line-height: 1.42857; vertical-align: top; border: 1px solid rgb(221, 221, 221);">&nbsp;</td>';r+="</tr>"}r+="</tbody></table>",this.$parent.execCommand("insertHTML",r)}}}},Xt={name:"tabulation",icon:"fa fa-table",i18n:"table",dashboard:Gt},qt=`<div> <button type="button" @click="$parent.execCommand('bold')">{{$parent.locale["bold"]}}</button> <button type="button" @click="$parent.execCommand('italic')">{{$parent.locale["italic"]}}</button> <button type="button" @click="$parent.execCommand('underline')">{{$parent.locale["underline"]}}</button> <button type="button" @click="$parent.execCommand('strikeThrough')">{{$parent.locale["strike through"]}} </button> <button type="button" @click="$parent.execCommand('subscript')">{{$parent.locale["subscript"]}}</button> <button type="button" @click="$parent.execCommand('superscript')">{{$parent.locale["superscript"]}}</button> </div> `,Vt={template:qt},Kt={name:"text",icon:"fa fa-pencil",i18n:"text",dashboard:Vt},Yt={name:"undo",icon:"fa-undo fa",i18n:"undo",handler:function(r){r.execCommand("undo")}},Wt={name:"unlink",icon:"fa fa-chain-broken",i18n:"unlink",handler:function(r){r.execCommand("unlink")}},Qt=[Kt,St,xt,Re,jt,Ht,Wt,Xt,Mt,Nt,Ct,Yt,It,Ut],re=function(c,r){r.forEach(function(n){c.push(n)})},fe=function(c){if(c.nodeType===Node.TEXT_NODE)return[c];var r=[];if(!c.hasChildNodes())return r;for(var n=c.childNodes,o=0;o<n.length;o++){var d=n[o];d.nodeType===Node.TEXT_NODE?r.push(d):d.nodeType===Node.ELEMENT_NODE&&re(r,fe(d))}return r},Ue=function(c,r){for(var n=[],o=0,d=0;d<c.childNodes.length;d++)if(c.childNodes[d].contains(r)){o=d;break}for(var f=0;f<=o;f++){var h=c.childNodes[f];h===r?re(n,fe(h)):f===o?h.nodeType===Node.TEXT_NODE?n.push(h):h.nodeType===Node.ELEMENT_NODE&&re(n,Ue(h,r)):h.nodeType===Node.TEXT_NODE?n.push(h):h.nodeType===Node.ELEMENT_NODE&&re(n,fe(h))}return n},Ae=function(c,r){for(var n=[],o=0,d=0;d<c.childNodes.length;d++)if(c.childNodes[d].contains(r)){o=d;break}for(var f=o;f<c.childNodes.length;f++){var h=c.childNodes[f];h===r?re(n,fe(h)):f===o?h.nodeType===Node.TEXT_NODE?n.push(h):h.nodeType===Node.ELEMENT_NODE&&re(n,Ae(h,r)):h.nodeType===Node.TEXT_NODE?n.push(h):h.nodeType===Node.ELEMENT_NODE&&re(n,fe(h))}return n},Jt=function(c){for(var r=["DIV","P","SECTION","H1","H2","H3","H4","H5","H6","OL","UL","LI","TR","TD","TH","TBODY","THEAD","TABLE","ARTICLE","HEADER","FOOTER"],n=c;n&&!r.includes(n.nodeName);)n=n.parentNode;return n},Te=function(c){var r=["A","ABBR","ACRONYM","B","CITE","CODE","EM","I","FONT","IMG","S","SMALL","SPAN","STRIKE","STRONG","U","SUB","SUP"];return r.includes(c.nodeName)};Text.prototype.contains||(Text.prototype.contains=function(r){return this===r});var Fe=function(r){if(!r||!(r instanceof Range))throw new TypeError("cant't resolve range");this.range=r};Fe.prototype.getAllTextNodesInRange=function(){var r=this.range.startContainer,n=this.range.endContainer,o=this.range.commonAncestorContainer,d=[];if(r===n){if(r.nodeType===Node.TEXT_NODE)return[r];for(var f=r.childNodes,h=this.range.startOffset;h<this.range.endOffset;h++)re(d,fe(f[h]));return d}for(var w=0,x=0,k=0;k<o.childNodes.length;k++){var b=o.childNodes[k];b.contains(r)&&(w=k),b.contains(n)&&(x=k)}for(var I=w;I<=x;I++){var t=o.childNodes[I];I===w?t.nodeType===Node.TEXT_NODE?d.push(t):t.nodeType===Node.ELEMENT_NODE&&re(d,Ae(t,r)):I===x?t.nodeType===Node.TEXT_NODE?d.push(t):t.nodeType===Node.ELEMENT_NODE&&re(d,Ue(t,n)):t.nodeType===Node.TEXT_NODE?d.push(t):t.nodeType===Node.ELEMENT_NODE&&re(d,fe(t))}return d},Fe.prototype.execCommand=function(r,n){var o=this;switch(r){case ae.FONT_SIZE:{var d=this.getAllTextNodesInRange();if(!d.length)break;if(d.length===1&&d[0]===this.range.startContainer&&d[0]===this.range.endContainer){var f=d[0];if(this.range.startOffset===0&&this.range.endOffset===f.textContent.length){if(f.parentNode.childNodes.length===1&&Te(f.parentNode)){f.parentNode.style.fontSize=n;break}var h=document.createElement("span");h.style.fontSize=n,f.parentNode.insertBefore(h,f),h.appendChild(f);break}var w=document.createElement("span");w.innerText=f.textContent.substring(this.range.startOffset,this.range.endOffset),w.style.fontSize=n;var x=document.createTextNode(f.textContent.substring(0,this.range.startOffset));f.parentNode.insertBefore(x,f),f.parentNode.insertBefore(w,f),f.textContent=f.textContent.substring(this.range.endOffset),this.range.setStart(w,0),this.range.setEnd(w,1);break}d.forEach(function(a){if(a===o.range.startContainer){if(o.range.startOffset===0){if(a.parentNode.childNodes.length===1&&Te(a.parentNode))a.parentNode.style.fontSize=n;else{var m=document.createElement("span");m.style.fontSize=n,a.parentNode.insertBefore(m,a),m.appendChild(a)}return}var u=document.createElement("span");a.textContent=a.textContent.substring(0,o.range.startOffset),u.style.fontSize=n,a.parentNode.insertBefore(u,a),o.range.setStart(a,0);return}if(a===o.range.endContainer){if(o.range.endOffset===a.textContent.length){if(a.parentNode.childNodes.length===1&&Te(a.parentNode))a.parentNode.style.fontSize=n;else{var l=document.createElement("span");l.style.fontSize=n,a.parentNode.insertBefore(l,a),l.appendChild(a)}return}var p=document.createElement("span");a.textContent=a.textContent.substring(o.range.endOffset),p.style.fontSize=n,a.parentNode.insertBefore(p,a),p.appendChild(a),o.range.setStart(a,a.textContent.length);return}if(a.parentNode.childNodes.length===1&&Te(a.parentNode)){a.parentNode.style.fontSize=n;return}var y=document.createElement("span");y.style.fontSize=n,a.parentNode.insertBefore(y,a),y.appendChild(a)});break}case ae.FORMAT_BLOCK:{if(document.execCommand(ae.FORMAT_BLOCK,!1,n))break;var k=document.createElement(n);this.range.surroundContents(k);break}case ae.LINE_HEIGHT:{var b=this.getAllTextNodesInRange();b.forEach(function(a){var m=Jt(a);m&&(m.style.lineHeight=n)});break}case ae.INSERT_HTML:{if(document.execCommand(ae.INSERT_HTML,!1,n))break;var I=document.createDocumentFragment(),t=document.createElement("div");if(t.innerHTML=n,t.hasChildNodes())for(var e=0;e<t.childNodes.length;e++)I.appendChild(t.childNodes[e].cloneNode(!0));this.range.deleteContents(),this.range.insertNode(I);break}default:{document.execCommand(r,!1,n);break}}},se(".vue-html5-editor,.vue-html5-editor *{box-sizing:border-box}.vue-html5-editor{font-size:14px;line-height:1.5;background-color:#fff;color:#333;border:1px solid #ddd;text-align:left;border-radius:5px;overflow:hidden}.vue-html5-editor.full-screen{position:fixed!important;top:0!important;left:0!important;bottom:0!important;right:0!important;border-radius:0}.vue-html5-editor>.toolbar{position:relative;background-color:inherit}.vue-html5-editor>.toolbar>ul{list-style:none;padding:0;margin:0;border-bottom:1px solid #ddd}.vue-html5-editor>.toolbar>ul>li{display:inline-block;cursor:pointer;text-align:center;line-height:36px;padding:0 10px}.vue-html5-editor>.toolbar>ul>li .icon{height:16px;width:16px;display:inline-block;vertical-align:middle}.vue-html5-editor>.toolbar>.dashboard{background-color:inherit;border-bottom:1px solid #ddd;padding:10px;position:absolute;top:100%;left:0;right:0;overflow:auto}.vue-html5-editor>.toolbar>.dashboard input[type=text],.vue-html5-editor>.toolbar>.dashboard input[type=number],.vue-html5-editor>.toolbar>.dashboard select{padding:6px 12px;color:inherit;background-color:transparent;border:1px solid #ddd;border-radius:5px}.vue-html5-editor>.toolbar>.dashboard input[type=text]:hover,.vue-html5-editor>.toolbar>.dashboard input[type=number]:hover,.vue-html5-editor>.toolbar>.dashboard select:hover{border-color:#bebebe}.vue-html5-editor>.toolbar>.dashboard input[type=text][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=text][readonly],.vue-html5-editor>.toolbar>.dashboard input[type=number][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=number][readonly],.vue-html5-editor>.toolbar>.dashboard select[disabled],.vue-html5-editor>.toolbar>.dashboard select[readonly]{background-color:#eee;opacity:1}.vue-html5-editor>.toolbar>.dashboard input[type=text][disabled],.vue-html5-editor>.toolbar>.dashboard input[type=number][disabled],.vue-html5-editor>.toolbar>.dashboard select[disabled]{cursor:not-allowed}.vue-html5-editor>.toolbar>.dashboard button{color:inherit;background-color:inherit;padding:6px 12px;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid #ddd;border-radius:5px;margin-right:4px;margin-bottom:4px}.vue-html5-editor>.toolbar>.dashboard button:hover{border-color:#bebebe}.vue-html5-editor>.toolbar>.dashboard button[disabled]{cursor:not-allowed;opacity:.68}.vue-html5-editor>.toolbar>.dashboard button:last-child{margin-right:0}.vue-html5-editor>.toolbar>.dashboard label{font-weight:bolder}.vue-html5-editor>.content{overflow:auto;padding:10px}.vue-html5-editor>.content:focus{outline:0}",void 0);var Zt=`<div class="vue-html5-editor" :class="{'full-screen':fullScreen}" :style="{'z-index':zIndex}"> <div class="toolbar" :style="{'z-index':zIndex+1}" ref="toolbar"> <ul> <template v-for="module in modules"> <li :title="locale[module.i18n]" @click="activeModule(module)"> <span class="icon" :class="module.icon"></span> <template v-if="showModuleName === undefined ? defaultShowModuleName : showModuleName"> &nbsp;{{locale[module.i18n]}} </template> </li> </template> </ul> <div class="dashboard" v-show="dashboard" ref="dashboard"> <keep-alive> <div v-show="dashboard" :is="dashboard"></div> </keep-alive> </div> </div> <div class="content" ref="content" :style="contentStyle" contenteditable @click="toggleDashboard(dashboard)"> </div> </div>`,en={template:Zt,props:{content:{type:String,required:!0,default:""},height:{type:Number,default:300,validator:function(r){return r>=100}},zIndex:{type:Number,default:1e3},autoHeight:{type:Boolean,default:!0},showModuleName:{}},data:function(){return{fullScreen:!1,dashboard:null}},watch:{content:function(r){var n=this.$refs.content.innerHTML;r!==n&&(this.$refs.content.innerHTML=r)},fullScreen:function(r){var n=this;if(r){n.parentEl=n.$el.parentNode,n.nextEl=n.$el.nextSibling,document.body.appendChild(n.$el);return}if(n.nextEl){n.parentEl.insertBefore(n.$el,n.nextEl);return}n.parentEl.appendChild(n.$el)}},computed:{contentStyle:function(){var r={};return this.fullScreen?(r.height=window.innerHeight-this.$refs.toolbar.clientHeight-1+"px",r):this.autoHeight?(r["min-height"]=this.height+"px",r):(r.height=this.height+"px",r)}},methods:{toggleFullScreen:function(){this.fullScreen=!this.fullScreen},enableFullScreen:function(){this.fullScreen=!0},exitFullScreen:function(){this.fullScreen=!1},focus:function(){this.$refs.content.focus()},toggleDashboard:function(r){this.dashboard=this.dashboard===r?null:r},execCommand:function(r,n){this.restoreSelection(),this.range&&new Fe(this.range).execCommand(r,n),this.toggleDashboard(),this.$emit("change",this.$refs.content.innerHTML)},getCurrentRange:function(){return this.range},saveCurrentRange:function(){var r=this,n=window.getSelection?window.getSelection():document.getSelection();if(n.rangeCount)for(var o=this.$refs.content,d=0;d<n.rangeCount;d++){var f=n.getRangeAt(0),h=f.startContainer,w=f.endContainer;if(h=h.nodeType===Node.TEXT_NODE?h.parentNode:h,w=w.nodeType===Node.TEXT_NODE?w.parentNode:w,o.contains(h)&&o.contains(w)){r.range=f;break}}},restoreSelection:function(){var r=window.getSelection?window.getSelection():document.getSelection();if(r.removeAllRanges(),this.range)r.addRange(this.range);else{var n=this.$refs.content,o=document.createElement("div"),d=document.createRange();n.appendChild(o),d.setStart(o,0),d.setEnd(o,0),r.addRange(d),this.range=d}},activeModule:function(r){if(typeof r.handler=="function"){r.handler(this);return}r.hasDashboard&&this.toggleDashboard("dashboard-"+r.name)}},created:function(){var r=this;this.modules.forEach(function(n){typeof n.init=="function"&&n.init(r)})},mounted:function(){var r=this,n=this.$refs.content;n.innerHTML=this.content,n.addEventListener("mouseup",this.saveCurrentRange,!1),n.addEventListener("keyup",function(){r.$emit("change",n.innerHTML),r.saveCurrentRange()},!1),n.addEventListener("mouseout",function(o){o.target===n&&r.saveCurrentRange()},!1),this.touchHandler=function(o){n.contains(o.target)&&r.saveCurrentRange()},window.addEventListener("touchend",this.touchHandler,!1)},updated:function(){this.$refs.dashboard&&(this.$refs.dashboard.style.maxHeight=this.$refs.content.clientHeight+"px")},beforeDestroy:function(){var r=this;window.removeEventListener("touchend",this.touchHandler),this.modules.forEach(function(n){typeof n.destroyed=="function"&&n.destroyed(r)})}},tn={align:"对齐方式",image:"图片",list:"列表",link:"链接",unlink:"去除链接",table:"表格",font:"文字","full screen":"全屏",text:"排版",eraser:"格式清除",info:"关于",color:"颜色","please enter a url":"请输入地址","create link":"创建链接",bold:"加粗",italic:"倾斜",underline:"下划线","strike through":"删除线",subscript:"上标",superscript:"下标",heading:"标题","font name":"字体","font size":"文字大小","left justify":"左对齐","center justify":"居中","right justify":"右对齐","ordered list":"有序列表","unordered list":"无序列表","fore color":"前景色","background color":"背景色","row count":"行数","column count":"列数",save:"确定",upload:"上传",progress:"进度",unknown:"未知","please wait":"请稍等",error:"错误",abort:"中断",reset:"重置",hr:"分隔线",undo:"撤消","line height":"行高","exceed size limit":"超出大小限制"},nn={align:"align",image:"image",list:"list",link:"link",unlink:"unlink",table:"table",font:"font","full screen":"full screen",text:"text",eraser:"remove format",info:"info",color:"color","please enter a url":"please enter a url","create link":"create link",bold:"bold",italic:"italic",underline:"underline","strike through":"strike through",subscript:"subscript",superscript:"superscript",heading:"heading","font name":"font name","font size":"font size","left justify":"left justify","center justify":"center justify","right justify":"right justify","ordered list":"ordered list","unordered list":"unordered list","fore color":"fore color","background color":"background color","row count":"row count","column count":"column count",save:"save",upload:"upload",progress:"progress",unknown:"unknown","please wait":"please wait",error:"error",abort:"abort",reset:"reset",hr:"horizontal rule",undo:"undo","line height":"line height","exceed size limit":"exceed size limit"};function ve(c,r){return c===void 0&&(c={}),r===void 0&&(r={}),Object.keys(r).forEach(function(n){if(n==="data"){var o=c[n],d=r[n];typeof d=="function"&&(typeof o!="function"?c[n]=d:c[n]=function(){return ve(o(),d())})}else c[n]=r[n]}),c}Ce();var Oe=function(r){r===void 0&&(r={});var n=[].concat(Qt),o={};Array.isArray(r.modules)&&r.modules.forEach(function(b){b.name&&n.push(b)}),Array.isArray(r.hiddenModules)&&(n=function(){var b=[];return n.forEach(function(I){r.hiddenModules.includes(I.name)||b.push(I)}),b}()),Array.isArray(r.visibleModules)&&(n=function(){var b=[];return r.visibleModules.forEach(function(I){n.forEach(function(t){t.name===I&&b.push(t)})}),b}()),n.forEach(function(b){var I=r[b.name];b.config=ve(b.config,I),b.dashboard&&(b.dashboard.module=b,o["dashboard-"+b.name]=b.dashboard),r.icons&&r.icons[b.name]&&(b.icon=r.icons[b.name]),b.hasDashboard=!!b.dashboard,b.dashboard=null});var d={"zh-cn":tn,"en-us":nn},f=r.i18n||{};Object.keys(f).forEach(function(b){d[b]=d[b]?ve(d[b],f[b]):f[b]});var h=r.language||"en-us",w=d[h],x=!!r.showModuleName,k=ve(en,{data:function(){return{modules:n,locale:w,defaultShowModuleName:x}},components:o});ve(this,k)};return Oe.install=function(r,n){n===void 0&&(n={}),r.component(n.name||"vue-html5-editor",new Oe(n))},Oe})})(bt);var fn=bt.exports;const hn=an(fn),pn=on();pn.use(hn,{name:"vue-html5-editor",showModuleName:!1,icons:{text:"fa fa-pencil",color:"fa fa-paint-brush",align:"fa fa-align-justify",list:"fa fa-list",link:"fa fa-chain",unlink:"fa fa-chain-broken",tabulation:"fa fa-table",image:"fa fa-file-image-o",hr:"fa fa-minus",eraser:"fa fa-eraser",undo:"fa-undo fa","full-screen":"fa fa-arrows-alt",info:"fa fa-info"},image:{sizeLimit:512*1024,upload:{url:null,headers:{},params:{},fieldName:{}},compress:{width:1600,height:1600,quality:80},uploadHandler(ce){const Se=JSON.parse(ce);return Se.ok?Se.data:""}},language:"en-us",hiddenModules:[],visibleModules:["text","color","align","list","link","unlink","tabulation","hr","eraser","undo"],modules:{}});const mn={name:"OpusEditor",props:{desc:{type:String,default:""},id:{type:String,default:"vue-editor"},maxlength:{type:Number,default:0},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},model:{prop:"desc",event:"change"},data(){return{limitReached:!1,consumed:0}},computed:{isLimited(){return this.maxlength>0},remaining(){return this.maxlength-this.consumed}},methods:{update(ce){this.consumed=ce.length,this.isLimited&&this.consumed<=this.maxlength?this.limitReached=!1:this.isLimited&&this.consumed>this.maxlength&&(this.limitReached=!0),this.$emit("change",ce)}}},gn={class:"htmleditor"},vn={key:0,class:"red-1"},bn=cn("div",{class:"text-regular-xsmall"},"Maximum character limit exceeded",-1),yn=[bn];function wn(ce,Se,se,Ce,Le,Ee){const Re=sn("vue-html5-editor");return gt(),vt("div",gn,[dn(Re,{ondrag:"return false",ondrop:"return false",autocomplete:"off",id:se.id,height:145,"auto-height":!1,content:se.desc,onChange:Ee.update,placeholder:se.placeholder,disabled:se.disabled},null,8,["id","content","onChange","placeholder","disabled"]),Ee.isLimited&&Le.limitReached?(gt(),vt("div",vn,yn)):un("",!0)])}const Cn=ln(mn,[["render",wn]]);export{Cn as O};
