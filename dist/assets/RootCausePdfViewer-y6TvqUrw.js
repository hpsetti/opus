import{L as _}from"./Loader-DR0R9oEF.js";import{P as h}from"./PDFViewer-Cah1WRq4.js";import{p as u}from"./pdf-file-download-e00IEA9Q.js";import{a as g}from"./documents-CP6oEKge.js";import{e as l,g as c}from"./rootCauseAnalysis-B4qBXXV_.js";import{p as w}from"./marketo-zx_g1DXt.js";import{_ as P}from"./chevron_left_icon-6Fqv5UkY.js";import{_ as D}from"./download_icon-MGGxcfQl.js";import{_ as v,c as S,a as t,t as F,b as d,r as p,o as x,p as y,f as T}from"./index-BlMJxPGQ.js";import"./debounce-DQE7iwz8.js";const k={props:["pdfPath","pdfName","stepper"],data(){return{displayPdf:!0,loaderStatus:!1,filePath:""}},components:{PDFViewer:h,Loader:_},methods:{clearNotifications(){this.$notify({clear:!0})},async getPDFDetails(e){this.loaderStatus=!0,this.filePath=e;const r=await g({container_name:"tools",permissions:"read",storage_name:"opus-storage-java"});this.filePath=`https://opusjavaprodstorage.blob.core.windows.net${this.filePath}?${r.data}`,this.displayPdf=!0,this.loaderStatus=!1},async downLoadWhitePaper(){const e={email:JSON.parse(localStorage.getItem("userData")).email,Last_Interest:"Human Factors Research & Design",page_urlextended:window.location.href,page_urlreferral_extended:document.referrer,form_control:"Download",form_control_details:"RCA Writeup Preview"};w(e);const o=await u(this.filePath);o&&o.error&&(this.clearNotifications(),this.$notify({type:"error",title:"Error",text:o.error.errorMessage}))},documentErrored(){this.displayPdf=!1},navigateToScopeToolPage(){this.$router.push({name:"Root Cause Analysis"})}},watch:{async $route(){if(this.$route.params.id===1){const e=await l();await this.getPDFDetails(e)}else{const e=await c();await this.getPDFDetails(e)}}},async created(){if(+this.$route.params.id==1){const e=await l();this.pdfName="View example RCA write up",await this.getPDFDetails(e)}else{const e=await c();this.pdfName="RCA Wizard â€“ Learn About Filters",await this.getPDFDetails(e)}}},i=e=>(y("data-v-fe79881d"),e=e(),T(),e),N={class:"content-wrappper"},C={class:"col-xs-12"},R={class:"row fixed-nav-bar"},L={class:"col-xs-12 p-0 font-18"},V={class:"col-xs-12 col-sm-8 p-0"},b=i(()=>t("img",{class:"back-img",src:P,alt:""},null,-1)),E=[b],I={class:"col-xs-12 col-sm-4 text-right"},W=i(()=>t("img",{src:D,alt:""},null,-1)),A=i(()=>t("span",{class:"pl-10"},"Download",-1)),B=[W,A],$={class:"paper-preview"},j={class:"pdf-div"};function M(e,o,r,z,n,a){const m=p("PDFViewer"),f=p("loader");return x(),S("div",N,[t("div",C,[t("div",R,[t("div",L,[t("div",V,[t("div",{class:"col-xs-1 width-auto p-0 cursor-pointer",onClick:o[0]||(o[0]=(...s)=>a.navigateToScopeToolPage&&a.navigateToScopeToolPage(...s))},E),t("div",{class:"col-xs-11 whitePaperName p-0 cursor-pointer ml-10",onClick:o[1]||(o[1]=(...s)=>a.navigateToScopeToolPage&&a.navigateToScopeToolPage(...s))},F(r.pdfName),1)]),t("div",I,[t("span",{class:"cursor-pointer",onClick:o[2]||(o[2]=(...s)=>a.downLoadWhitePaper&&a.downLoadWhitePaper(...s))},B)])])]),t("div",$,[t("div",j,[d(m,{url:n.filePath,onDocumentErrored:a.documentErrored},null,8,["url","onDocumentErrored"])])]),d(f,{loadingStatus:n.loaderStatus},null,8,["loadingStatus"])])])}const Z=v(k,[["render",M],["__scopeId","data-v-fe79881d"]]);export{Z as default};
