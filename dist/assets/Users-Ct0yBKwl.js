import{_ as S,d as v,a0 as y,c as u,a as r,b as n,w as p,e as m,k as w,t as x,r as l,o as d,p as O,f as U}from"./index-BlMJxPGQ.js";import{b as k}from"./base64toBlob-DvJk0jOb.js";import{O as C}from"./OpusBreadCrumb-DtnZkk2b.js";import{O as D}from"./OpusTable-CkU-GtnE.js";import{L}from"./Loader-DR0R9oEF.js";import{O as B}from"./OpusPagination-DQXieD6a.js";import{O as E}from"./OpusSearchBar-nq8CWwAl.js";import{i as F}from"./team-mtXrSBak.js";import{l as I,k as N}from"./activateService-D7pxPSN8.js";import{_ as V}from"./download_icon-MGGxcfQl.js";import"./lodash-DhCEjwN-.js";import"./OpusCheckbox-DmKgoiup.js";import"./more-horizontal-YxyMY0P_.js";import"./OpusSelect-BRceMwA4.js";import"./cloneDeep-ldw2ZiUo.js";import"./_baseAssignValue-BD6sbZ4C.js";import"./chevron_down_new-ByXOiGKT.js";import"./chevron_left_icon-6Fqv5UkY.js";import"./search_icon-C65g3Q5L.js";import"./danger_close_icon-CkTgh2bE.js";const T={name:"HFEUsers",components:{OpusTable:D,OpusBreadCrumb:C,OpusPagination:B,OpusSearchBar:E,Loader:L},async created(){await this.getHFEUsers()},data(){return{loaderStatus:!1,items:[],fields:[{key:"user_name",label:"Name",sortable:!0},{key:"company",label:"Company",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"active",label:"State",sortable:!0}],perPage:200,currentPage:1,totalPages:0,totalItems:0,inSearch:!1}},methods:{navigateToLaunchPad(){this.$router.push("/launchpad")},async getHFEUsers(){this.loaderStatus=!0;const t={pagination:{current_page:this.currentPage,result_per_page:this.perPage}},a=await F(t);this.items=a.data.result_data;const e=this.items.map(o=>(o.status?o.status="Verified":o.status="Not Verified",o.active?o.active="Active":o.active="Deactive",o));this.items=e,this.totalPages=a.data.total_pages,this.totalItems=a.data.total_records_count,this.loaderStatus=!1},async getUsersDownloadList(){this.loaderStatus=!0;const t=await I(),a=k(t,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),e=v().format("DD_MMM_YYYY");y.saveAs(a,`${e}_UserList.xlsx`),this.loaderStatus=!1},async onPageChanged(){this.inSearch||this.$nextTick(async()=>{await this.getHFEUsers()})},async searchForUsers(t){if(this.loaderStatus=!0,t){this.inSearch=!0,this.currentPage=1,this.items=await N(t);const a=this.items.map(e=>(e.status?e.status="Verified":e.status="Not Verified",e.active?e.active="Active":e.active="Deactive",e));this.items=a,this.totalPages=this.items.length/this.perPage,this.totalItems=this.items.length}else this.inSearch=!1,this.items=[],this.totalPages=0,this.totalItems=0,this.currentPage=1,await this.getHFEUsers();this.loaderStatus=!1}}},c=t=>(O("data-v-5beb7be6"),t=t(),U(),t),H={class:"content-wrappper"},Y={class:"row m-0"},A={class:"d-flex align-items-center justify-content-between"},M=c(()=>r("p",{class:"ml-20 text-h3"},"Users",-1)),j=c(()=>r("img",{class:"pr-10",src:V},null,-1)),z={class:"mx-20 my-10"},G={class:"text-subtitle-2 text-secondary mt-10 mb-10 ml-20"},J=c(()=>r("span",null,"No users found!",-1)),K={class:"users-pagination"};function Q(t,a,e,o,s,i){const h=l("OpusBreadCrumb"),g=l("OpusSearchBar"),_=l("OpusTable"),f=l("OpusPagination"),b=l("loader");return d(),u("div",H,[r("div",Y,[r("div",null,[n(h,{class:"mb-10",variant:"sm",onClick:i.navigateToLaunchPad},{default:p(()=>[m("Launchpad")]),_:1},8,["onClick"]),r("div",A,[M,s.items?(d(),u("p",{key:0,class:"mr-20 text-subtitle-1 blue-3 download-list-btn",onClick:a[0]||(a[0]=(...P)=>i.getUsersDownloadList&&i.getUsersDownloadList(...P))},[j,m("Download Full List ")])):w("",!0)])]),r("div",z,[n(g,{placeholder:"Search by user id/email",searchOnEnter:!0,onSearch:i.searchForUsers},null,8,["onSearch"])]),r("div",G,x(s.totalItems)+" Users ",1),n(_,{id:"hfe-user-list",class:"users-table",items:s.items,fields:s.fields,currentPage:s.currentPage,perPage:s.inSearch?s.perPage:0},{empty:p(()=>[J]),_:1},8,["items","fields","currentPage","perPage"]),r("div",K,[n(f,{total:s.totalItems,perPage:s.perPage,currentPage:s.currentPage,onPagechanged:i.onPageChanged,"show-per-page-control":"",perPageCounts:[200,500,1e3],maxPages:0},null,8,["total","perPage","currentPage","onPagechanged"])]),n(b,{loadingStatus:s.loaderStatus},null,8,["loadingStatus"])])])}const he=S(T,[["render",Q],["__scopeId","data-v-5beb7be6"]]);export{he as default};
