import{L as I}from"./Loader-DR0R9oEF.js";import{O as f}from"./OpusDots-CGB8_-Ti.js";import{O as D}from"./OpusBreadCrumb-DtnZkk2b.js";import{d as b,e as x}from"./dashboard-BHheVWGX.js";import{_ as v,a as k}from"./insights_right_icon-C3UrLmJ5.js";import{_ as w}from"./hfe_insights-DGHftGqB.js";import{_ as S,c,b as h,w as y,a as t,t as l,k as g,r,o as u,e as H}from"./index-BlMJxPGQ.js";const C={name:"HFEInsight",components:{OpusBreadCrumb:D,OpusDots:f,Loader:I},data(){return{loaderStatus:!1,hfeInsightData:null,insightId:null,allInsightsData:[]}},async created(){this.loaderStatus=!0,this.insightId=this.$route.params.id.toString(),await this.getInsightsData(this.insightId),this.loaderStatus=!1},computed:{inFirstPage(){return this.allInsightsData.length?Number(this.insightId)===this.allInsightsData[0].id:-1},inLastPage(){return this.allInsightsData.length?Number(this.insightId)===this.allInsightsData[this.allInsightsData.length-1].id:-1}},watch:{$route:{async handler(i){this.insightId=i.params.id.toString(),await this.getInsightsData(this.insightId)},immediate:!0}},methods:{async getInsightsData(i){await Promise.all([this.getHfeInsightsData(i),this.getAllInsights()])},goToDashboard(){this.$router.push("/home")},async getAllInsights(){this.allInsightsData=await b()},async nextPreviousInsight(i=!0){this.loaderStatus=!0;const s=this.insightId,n=this.allInsightsData.map(a=>a.id),o=n.findIndex(a=>a===+s),e=this.getID(i,o,n);this.$router.push({name:"HFEInsight",params:{id:e}}),this.loaderStatus=!1},getID(i,s,n){const o=n.length;return i?this.inLastPage?n[0]:n[s+1]:this.inFirstPage?n[o-1]:n[s-1]},async getHfeInsightsData(i){this.loaderStatus=!0;const s=await x(i);s&&(this.hfeInsightData=s),this.loaderStatus=!1}}},O={key:0,class:"content-wrappper"},P=t("div",{class:"text-h3 hfe-doc-title"},"HFE Insights",-1),B={class:"d-flex opus-bg-green-1 hfe-header"},F={class:"my-auto text-center"},E=t("img",{src:v,class:"opus-icon"},null,-1),L=[E],N={class:"content d-flex flex-direction-column justify-content-center"},V=t("div",{class:"text-button-label black-2 mb-10 mt-20"},"HFE Insights",-1),T={class:"text-h3 mb-20"},M=t("img",{class:"logo",src:w},null,-1),U={class:"my-auto text-center"},j=t("img",{src:k,class:"opus-icon"},null,-1),q=[j],z={class:"hfe-desc"},A=["innerHTML"],G={key:0,class:"col-xs-6 p-0 author"},J=t("div",{class:"text-h5 black-2"},"Author",-1),K=t("hr",null,null,-1),Q={class:"black-2 text-button-label"},R={class:"text-regular-large black-3"};function W(i,s,n,o,e,a){const d=r("OpusBreadCrumb"),_=r("OpusDots"),m=r("loader");return e.hfeInsightData&&e.allInsightsData.length?(u(),c("div",O,[h(d,{class:"ml-10 mt-20",variant:"sm",onClick:a.goToDashboard},{default:y(()=>[H("Dashboard")]),_:1},8,["onClick"]),P,t("section",B,[t("div",F,[t("button",{type:"button",onClick:s[0]||(s[0]=p=>a.nextPreviousInsight(!1)),title:"View previous insight"},L)]),t("div",N,[V,t("div",T,l(e.hfeInsightData.hfe_insight_headline),1),h(_,{class:"mb-30",count:e.allInsightsData.length,position:e.hfeInsightData.viewing_order},null,8,["count","position"])]),M,t("div",U,[t("button",{type:"button",onClick:s[1]||(s[1]=p=>a.nextPreviousInsight()),title:"View next insight"},q)])]),t("section",z,[t("section",{class:"col-xs-6 p-0 text-regular-large content black-2 mb-30",innerHTML:e.hfeInsightData.insight_content},null,8,A),e.hfeInsightData.authors_name?(u(),c("section",G,[J,K,t("div",Q,l(e.hfeInsightData.authors_name),1),t("div",R,l(e.hfeInsightData.authors_work_title),1)])):g("",!0)]),h(m,{loadingStatus:e.loaderStatus},null,8,["loadingStatus"])])):g("",!0)}const it=S(C,[["render",W]]);export{it as default};
